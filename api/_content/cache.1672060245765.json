{"generatedAt":1672060296963,"generateTime":31,"contents":[{"_path":"/","_dir":"","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Home","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"block-hero","props":{":cta":"[\"Get Started\",\"/guide\"]",":secondary":"[\"Open on GitHub →\",\"https://github.com/marvin-j97/svarta\"]","snippet":"pnpm create svarta-app"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"REST APIs "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"without the hassle"}]}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Svarta is a TypeScript-native, ESM-native platform-agnostic REST API framework."}]}]},{"type":"element","tag":"template","props":{"v-slot:extra":""},"children":[{"type":"element","tag":"list","props":{},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"TypeScript- & ESM-native"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/usage/routes"},"children":[{"type":"text","value":"File-based routing"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/usage/middlewares"},"children":[{"type":"text","value":"Type-safe middlewares"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Development server with hot module reload (HMR)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Platform-agnostic (see "},{"type":"element","tag":"a","props":{"href":"/adapters"},"children":[{"type":"text","value":"Adapters"}]},{"type":"text","value":")"}]}]}]}]}]}]},"navigation":false,"layout":"page","body":{"type":"root","children":[{"type":"element","tag":"block-hero","props":{":cta":"[\"Get Started\",\"/guide\"]",":secondary":"[\"Open on GitHub →\",\"https://github.com/marvin-j97/svarta\"]","snippet":"pnpm create svarta-app"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"REST APIs "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"without the hassle"}]}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Svarta is a TypeScript-native, ESM-native platform-agnostic REST API framework."}]}]},{"type":"element","tag":"template","props":{"v-slot:extra":""},"children":[{"type":"element","tag":"list","props":{},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"TypeScript- & ESM-native"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/usage/routes"},"children":[{"type":"text","value":"File-based routing"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/usage/middlewares"},"children":[{"type":"text","value":"Type-safe middlewares"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Development server with hot module reload (HMR)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Platform-agnostic (see "},{"type":"element","tag":"a","props":{"href":"/adapters"},"children":[{"type":"text","value":"Adapters"}]},{"type":"text","value":")"}]}]}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:0.index.md","_source":"content","_file":"0.index.md","_extension":"md"},{"_path":"/guide/_dir","_dir":"guide","_draft":false,"_partial":true,"_locale":"en","title":"Guide","_id":"content:1.guide:_dir.yml","_type":"yaml","_source":"content","_file":"1.guide/_dir.yml","_extension":"yml"},{"_path":"/guide","_dir":"","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Introduction","description":"Svarta is a TypeScript-native, ESM-native REST API framework.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"introduction"},"children":[{"type":"text","value":"Introduction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Svarta is a TypeScript-native, ESM-native REST API framework."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By abstracting the underlying platform, it allows deployment to different platforms without changing your code. Routes are organized using file-based routing, commonly used in fullstack frameworks like Next.js or SvelteKit."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You also get:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"typesafe middlewares"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"file-based routing"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"input validation (with "},{"type":"element","tag":"a","props":{"href":"https://zod.dev/","rel":["nofollow"]},"children":[{"type":"text","value":"Zod"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"dependency bundling (treeshaking etc.)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CLI to scaffold projects"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"development server with HMR"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It aims to provide a more robust developer experience than established packages like "},{"type":"element","tag":"a","props":{"href":"https://expressjs.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Express"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://koajs.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Koa"}]},{"type":"text","value":".\nSvarta will scaffold your application from the ground up, removing the overhead of installing and setting up development dependencies, toolchains and build scripts. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Say goodbye to setting up 15 packages to get your Express project started!"}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Setup a new project in under 2 minutes using the "},{"type":"element","tag":"a","props":{"href":"/guide/quickstart"},"children":[{"type":"text","value":"Quickstart"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"inspirations"},"children":[{"type":"text","value":"Inspirations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Svarta is mostly inspired by"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nextjs.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Next.js"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://trpc.io/","rel":["nofollow"]},"children":[{"type":"text","value":"tRPC"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io/","rel":["nofollow"]},"children":[{"type":"text","value":"Nitro"}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"introduction"},"children":[{"type":"text","value":"Introduction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Svarta is a TypeScript-native, ESM-native REST API framework."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By abstracting the underlying platform, it allows deployment to different platforms without changing your code. Routes are organized using file-based routing, commonly used in fullstack frameworks like Next.js or SvelteKit."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You also get:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"typesafe middlewares"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"file-based routing"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"input validation (with "},{"type":"element","tag":"a","props":{"href":"https://zod.dev/","rel":["nofollow"]},"children":[{"type":"text","value":"Zod"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"dependency bundling (treeshaking etc.)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CLI to scaffold projects"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"development server with HMR"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It aims to provide a more robust developer experience than established packages like "},{"type":"element","tag":"a","props":{"href":"https://expressjs.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Express"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://koajs.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Koa"}]},{"type":"text","value":".\nSvarta will scaffold your application from the ground up, removing the overhead of installing and setting up development dependencies, toolchains and build scripts. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Say goodbye to setting up 15 packages to get your Express project started!"}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Setup a new project in under 2 minutes using the "},{"type":"element","tag":"a","props":{"href":"/guide/quickstart"},"children":[{"type":"text","value":"Quickstart"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"inspirations"},"children":[{"type":"text","value":"Inspirations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Svarta is mostly inspired by"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nextjs.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Next.js"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://trpc.io/","rel":["nofollow"]},"children":[{"type":"text","value":"tRPC"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io/","rel":["nofollow"]},"children":[{"type":"text","value":"Nitro"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"inspirations","depth":2,"text":"Inspirations"}]}},"_type":"markdown","_id":"content:1.guide:0.index.md","_source":"content","_file":"1.guide/0.index.md","_extension":"md"},{"_path":"/guide/quickstart","_dir":"guide","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Quickstart","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"quickstart"},"children":[{"type":"text","value":"Quickstart"}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Node.js 14.18 or higher is required"}]}]},{"type":"element","tag":"h2","props":{"id":"scaffold-new-project"},"children":[{"type":"text","value":"Scaffold new project"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm create svarta-app\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pnpm create svarta-app\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn create svarta-app\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn create svarta-app\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"npm create svarta-app\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm create svarta-app\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And follow the in-terminal instructions."}]},{"type":"element","tag":"h2","props":{"id":"start-development-server"},"children":[{"type":"text","value":"Start development server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm dev\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pnpm dev\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn dev\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn dev\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"npm run dev\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm run dev\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"build-production-server"},"children":[{"type":"text","value":"Build production server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm build\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pnpm build\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn build\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn build\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"npm run build\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm run build\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"deploy-if-applies"},"children":[{"type":"text","value":"Deploy (if applies)"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm deploy\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pnpm deploy\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn deploy\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn deploy\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"npm run deploy\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm run deploy\n"}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"quickstart"},"children":[{"type":"text","value":"Quickstart"}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Node.js 14.18 or higher is required"}]}]},{"type":"element","tag":"h2","props":{"id":"scaffold-new-project"},"children":[{"type":"text","value":"Scaffold new project"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm create svarta-app\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"pnpm create svarta-app"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn create svarta-app\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"yarn create svarta-app"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npm create svarta-app\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"npm create svarta-app"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And follow the in-terminal instructions."}]},{"type":"element","tag":"h2","props":{"id":"start-development-server"},"children":[{"type":"text","value":"Start development server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm dev\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"pnpm dev"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn dev\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"yarn dev"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npm run dev\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"npm run dev"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"build-production-server"},"children":[{"type":"text","value":"Build production server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm build\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"pnpm build"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn build\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"yarn build"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npm run build\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"npm run build"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"deploy-if-applies"},"children":[{"type":"text","value":"Deploy (if applies)"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm deploy\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"pnpm deploy"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn deploy\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"yarn deploy"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npm run deploy\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18ebda"},"children":[{"type":"text","value":"npm run deploy"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-18ebda{color:#24292F}\n.dark .ct-18ebda{color:#C9D1D9}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"scaffold-new-project","depth":2,"text":"Scaffold new project"},{"id":"start-development-server","depth":2,"text":"Start development server"},{"id":"build-production-server","depth":2,"text":"Build production server"},{"id":"deploy-if-applies","depth":2,"text":"Deploy (if applies)"}]}},"_type":"markdown","_id":"content:1.guide:1.quickstart.md","_source":"content","_file":"1.guide/1.quickstart.md","_extension":"md"},{"_path":"/guide/contribute","_dir":"guide","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Contribute","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"contribute"},"children":[{"type":"text","value":"Contribute"}]},{"type":"element","tag":"h2","props":{"id":"setup-repository"},"children":[{"type":"text","value":"Setup repository"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fork and clone the repository"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Make sure pnpm is installed"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Install dependencies with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm install"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a new branch"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add your changes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm lint -- --fix"}]},{"type":"text","value":" to check & automatically fix your code"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm test"}]},{"type":"text","value":" to run tests"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Commit & push your changes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a pull request "},{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/pulls","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]}]},{"type":"element","tag":"h2","props":{"id":"rundown-of-packages"},"children":[{"type":"text","value":"Rundown of packages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The repository is a monorepo using "},{"type":"element","tag":"a","props":{"href":"https://pnpm.io/workspaces","rel":["nofollow"]},"children":[{"type":"text","value":"pnpm workspaces"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://turbo.build/repo","rel":["nofollow"]},"children":[{"type":"text","value":"turborepo"}]},{"type":"text","value":". The packages are as follows:"}]},{"type":"element","tag":"h3","props":{"id":"core"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"core"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This package contains most type definitions and functionality that will be used in the other packages."}]},{"type":"element","tag":"h3","props":{"id":"svarta"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"svarta"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the main user facing package and exports the most important utility, like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Response"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route"}]},{"type":"text","value":" etc from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"core"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"cli"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cli"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the "},{"type":"element","tag":"a","props":{"href":"/usage/cli"},"children":[{"type":"text","value":"command line tool"}]},{"type":"text","value":", which provides commands like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dev"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"build"}]},{"type":"text","value":" etc."}]},{"type":"element","tag":"h3","props":{"id":"dev-server"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dev-server"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the "},{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io/","rel":["nofollow"]},"children":[{"type":"text","value":"nitro-powered"}]},{"type":"text","value":" development server that will be invoked using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"svarta dev"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"create-svarta-app"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create-svarta-app"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the scaffolding tool, see "},{"type":"element","tag":"a","props":{"href":"/guide/quickstart"},"children":[{"type":"text","value":"Quickstart"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"adapter-standalone"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"adapter-standalone"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the standalone adapter, powered by "},{"type":"element","tag":"a","props":{"href":"https://tinyhttp.v1rtl.site/","rel":["nofollow"]},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":". See "},{"type":"element","tag":"a","props":{"href":"/adapters"},"children":[{"type":"text","value":"Adapters"}]},{"type":"text","value":" for more info."}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"contribute"},"children":[{"type":"text","value":"Contribute"}]},{"type":"element","tag":"h2","props":{"id":"setup-repository"},"children":[{"type":"text","value":"Setup repository"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fork and clone the repository"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Make sure pnpm is installed"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Install dependencies with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm install"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a new branch"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add your changes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm lint -- --fix"}]},{"type":"text","value":" to check & automatically fix your code"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm test"}]},{"type":"text","value":" to run tests"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Commit & push your changes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a pull request "},{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/pulls","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]}]},{"type":"element","tag":"h2","props":{"id":"rundown-of-packages"},"children":[{"type":"text","value":"Rundown of packages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The repository is a monorepo using "},{"type":"element","tag":"a","props":{"href":"https://pnpm.io/workspaces","rel":["nofollow"]},"children":[{"type":"text","value":"pnpm workspaces"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://turbo.build/repo","rel":["nofollow"]},"children":[{"type":"text","value":"turborepo"}]},{"type":"text","value":". The packages are as follows:"}]},{"type":"element","tag":"h3","props":{"id":"core"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"core"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This package contains most type definitions and functionality that will be used in the other packages."}]},{"type":"element","tag":"h3","props":{"id":"svarta"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"svarta"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the main user facing package and exports the most important utility, like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Response"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route"}]},{"type":"text","value":" etc from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"core"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"cli"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cli"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the "},{"type":"element","tag":"a","props":{"href":"/usage/cli"},"children":[{"type":"text","value":"command line tool"}]},{"type":"text","value":", which provides commands like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dev"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"build"}]},{"type":"text","value":" etc."}]},{"type":"element","tag":"h3","props":{"id":"dev-server"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dev-server"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the "},{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io/","rel":["nofollow"]},"children":[{"type":"text","value":"nitro-powered"}]},{"type":"text","value":" development server that will be invoked using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"svarta dev"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"create-svarta-app"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create-svarta-app"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the scaffolding tool, see "},{"type":"element","tag":"a","props":{"href":"/guide/quickstart"},"children":[{"type":"text","value":"Quickstart"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"adapter-standalone"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"adapter-standalone"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the standalone adapter, powered by "},{"type":"element","tag":"a","props":{"href":"https://tinyhttp.v1rtl.site/","rel":["nofollow"]},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":". See "},{"type":"element","tag":"a","props":{"href":"/adapters"},"children":[{"type":"text","value":"Adapters"}]},{"type":"text","value":" for more info."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"setup-repository","depth":2,"text":"Setup repository"},{"id":"rundown-of-packages","depth":2,"text":"Rundown of packages","children":[{"id":"core","depth":3,"text":"core"},{"id":"svarta","depth":3,"text":"svarta"},{"id":"cli","depth":3,"text":"cli"},{"id":"dev-server","depth":3,"text":"dev-server"},{"id":"create-svarta-app","depth":3,"text":"create-svarta-app"},{"id":"adapter-standalone","depth":3,"text":"adapter-standalone"}]}]}},"_type":"markdown","_id":"content:1.guide:2.contribute.md","_source":"content","_file":"1.guide/2.contribute.md","_extension":"md"},{"_path":"/usage/_dir","_dir":"usage","_draft":false,"_partial":true,"_locale":"en","title":"Usage","_id":"content:2.usage:_dir.yml","_type":"yaml","_source":"content","_file":"2.usage/_dir.yml","_extension":"yml"},{"_path":"/usage/routes","_dir":"usage","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Routes","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"routes"},"children":[{"type":"text","value":"Routes"}]},{"type":"element","tag":"h2","props":{"id":"file-based-routing"},"children":[{"type":"text","value":"File-based routing"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"routes"}]},{"type":"text","value":" folder (can be changed in the configuration), you can create new files to map to specific routes. Route files are formatted as follows:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index.get.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"user.get.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /user"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"user/index.get.ts"}]},{"type":"text","value":" also maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /user"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hello/[name].get.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /hello/[name]"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index.post.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST /"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"etc."}]},{"type":"element","tag":"h2","props":{"id":"route-handling"},"children":[{"type":"text","value":"Route handling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a route, default export a route handler by calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.handle"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route"}]},{"type":"text","value":" is the default route entry point and can be extended using "},{"type":"element","tag":"a","props":{"href":"/usage/middlewares"},"children":[{"type":"text","value":"middlewares"}]}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport default route.handle(async () => {\n  return new Response(Status.Ok, \"Hello world!\");\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Response, route, Status } from \"svarta\";\n\nexport default route.handle(async () => {\n  return new Response(Status.Ok, \"Hello world!\");\n});\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To send a response, use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Response"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"h2","props":{"id":"input-validation"},"children":[{"type":"text","value":"Input validation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To validate the request body, use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.input"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"export default route\n  .input(\n    zod\n      .object({ name: zod.string() })\n      .strict()\n  )\n  .handle(async ({ input }) => {\n    return new Response(Status.Ok, {\n      // input is type-safe \n      message: `Hello ${input.name}`\n    });\n  });\n","filename":"routes/index.post.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"export default route\n  .input(\n    zod\n      .object({ name: zod.string() })\n      .strict()\n  )\n  .handle(async ({ input }) => {\n    return new Response(Status.Ok, {\n      // input is type-safe \n      message: `Hello ${input.name}`\n    });\n  });\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"route-parameters"},"children":[{"type":"text","value":"Route parameters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Consider this route, which should greet the user using the name given in the route path."}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will not build, as params are unknown by default."}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport default route\n  .handle(async ({ params }) => {\n    const name = params.name; // Error: 'params' is of type 'unknown'\n\n    return new Response(Status.Ok, {\n      message: `Hello ${name}!`,\n    });\n  });\n","filename":"routes/hello/[name].get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Response, route, Status } from \"svarta\";\n\nexport default route\n  .handle(async ({ params }) => {\n    const name = params.name; // Error: 'params' is of type 'unknown'\n\n    return new Response(Status.Ok, {\n      message: `Hello ${name}!`,\n    });\n  });\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"alert","props":{"type":"success"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To statically validate parameters, export a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"params"}]},{"type":"text","value":" array and add it to the handler."}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport const params = [\"name\"] as const;\n\nexport default route\n  .params(params) // <- register params\n  .handle(async ({ params }) => {\n    const name = params.name; // OK!\n\n    return new Response(Status.Ok, {\n      message: `Hello ${name}!`,\n    });\n  });\n","filename":"routes/hello/[name].get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Response, route, Status } from \"svarta\";\n\nexport const params = [\"name\"] as const;\n\nexport default route\n  .params(params) // <- register params\n  .handle(async ({ params }) => {\n    const name = params.name; // OK!\n\n    return new Response(Status.Ok, {\n      message: `Hello ${name}!`,\n    });\n  });\n"}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now consider adding additional parameters that are not present in the actual route filename:"}]},{"type":"element","tag":"alert","props":{"type":"danger"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The params will be checked while building to validate the parameters are actually valid. If not, the build will fail."}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\n// another_param is defined, but not defined in the route filename.\n// This will show a warning while developing, and will fatally error during build\nexport const params = [\"name\", \"another_param\"] as const;\n\nexport default route\n  .params(params)\n  .handle(async ({ params }) => {\n    const name = params.name;\n\n    return new Response(Status.Ok, {\n      message: `Hello ${name}!`,\n    });\n  });\n","filename":"routes/hello/[name].get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Response, route, Status } from \"svarta\";\n\n// another_param is defined, but not defined in the route filename.\n// This will show a warning while developing, and will fatally error during build\nexport const params = [\"name\", \"another_param\"] as const;\n\nexport default route\n  .params(params)\n  .handle(async ({ params }) => {\n    const name = params.name;\n\n    return new Response(Status.Ok, {\n      message: `Hello ${name}!`,\n    });\n  });\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"redirects"},"children":[{"type":"text","value":"Redirects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Redirect"}]},{"type":"text","value":" is a helper class that wraps the standard "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Response"}]},{"type":"text","value":" class for easier redirect handling."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Redirect, route } from \"svarta\";\n\nexport default route.handle(async () => {\n  return new Redirect(\"https://google.com\", true /* permanent */);\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Redirect, route } from \"svarta\";\n\nexport default route.handle(async () => {\n  return new Redirect(\"https://google.com\", true /* permanent */);\n});\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"route-input-reference"},"children":[{"type":"text","value":"Route input reference"}]},{"type":"element","tag":"h3","props":{"id":"ctx"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ctx"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"User-provided context. This can be set by using "},{"type":"element","tag":"a","props":{"href":"/usage/middlewares"},"children":[{"type":"text","value":"middlewares"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"path"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Full path without the query parameters."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user?id=3"}]},{"type":"text","value":" => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user"}]}]},{"type":"element","tag":"h3","props":{"id":"url"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Full path with query parameters."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user?id=3"}]},{"type":"text","value":" => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user?id=3"}]}]},{"type":"element","tag":"h3","props":{"id":"method"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"method"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"HTTP method ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST"}]},{"type":"text","value":", etc)."}]},{"type":"element","tag":"h3","props":{"id":"headers"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"headers"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Can be used to get and set HTTP headers."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Redirect, Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ headers }) => {\n  if (!headers.get(\"authorization\")) {\n    return new Redirect(\"/\", false);\n  }\n  headers.set(\"content-type\", \"application/yaml\");\n  return new Response(Status.Ok, \"message: welcome to the secret page\");\n});\n","filename":"routes/secret.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Redirect, Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ headers }) => {\n  if (!headers.get(\"authorization\")) {\n    return new Redirect(\"/\", false);\n  }\n  headers.set(\"content-type\", \"application/yaml\");\n  return new Response(Status.Ok, \"message: welcome to the secret page\");\n});\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"input"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"input"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Input body. Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.input"}]},{"type":"text","value":" to define an input, which will automatically validated before your route handler runs. See "},{"type":"element","tag":"a","props":{"href":"#input-validation"},"children":[{"type":"text","value":"above"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"params"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"params"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Route parameters. See "},{"type":"element","tag":"a","props":{"href":"#route-parameters"},"children":[{"type":"text","value":"above"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"query"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"query"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Route query parameters."}]},{"type":"element","tag":"h3","props":{"id":"isdev"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"isDev"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Development flag, which is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" if the app is run in development mode."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ headers, isDev }) => {\n  if (!isDev) {\n    logRequest();\n  }\n\n  return new Response(Status.Ok, {\n    message: \"hello\",\n  });\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ headers, isDev }) => {\n  if (!isDev) {\n    logRequest();\n  }\n\n  return new Response(Status.Ok, {\n    message: \"hello\",\n  });\n});\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"cookies"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cookies"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Can be used to get and set HTTP cookies."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Redirect, Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ cookies }) => {\n  const session = cookies.get(\"session\");\n  if (!session) {\n    return new Redirect(\"/\", false);\n  };\n\n  const user = await getUser(session);\n  if (!user) {\n    return new Redirect(\"/\", false);\n  }\n\n  cookies.set(\"session\", generateSession(), {\n    httpOnly: true\n    // additional cookie parameters here\n    // the options parameter is optional\n  });\n\n  return new Response(Status.Ok, {\n    message: \"You are signed in\"\n  });\n});\n","filename":"routes/dashboard.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Redirect, Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ cookies }) => {\n  const session = cookies.get(\"session\");\n  if (!session) {\n    return new Redirect(\"/\", false);\n  };\n\n  const user = await getUser(session);\n  if (!user) {\n    return new Redirect(\"/\", false);\n  }\n\n  cookies.set(\"session\", generateSession(), {\n    httpOnly: true\n    // additional cookie parameters here\n    // the options parameter is optional\n  });\n\n  return new Response(Status.Ok, {\n    message: \"You are signed in\"\n  });\n});\n"}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"routes"},"children":[{"type":"text","value":"Routes"}]},{"type":"element","tag":"h2","props":{"id":"file-based-routing"},"children":[{"type":"text","value":"File-based routing"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"routes"}]},{"type":"text","value":" folder (can be changed in the configuration), you can create new files to map to specific routes. Route files are formatted as follows:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index.get.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"user.get.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /user"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"user/index.get.ts"}]},{"type":"text","value":" also maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /user"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hello/[name].get.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /hello/[name]"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index.post.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST /"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"etc."}]},{"type":"element","tag":"h2","props":{"id":"route-handling"},"children":[{"type":"text","value":"Route handling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a route, default export a route handler by calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.handle"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route"}]},{"type":"text","value":" is the default route entry point and can be extended using "},{"type":"element","tag":"a","props":{"href":"/usage/middlewares"},"children":[{"type":"text","value":"middlewares"}]}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport default route.handle(async () => {\n  return new Response(Status.Ok, \"Hello world!\");\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(Status.Ok, "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"Hello world!\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To send a response, use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Response"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"h2","props":{"id":"input-validation"},"children":[{"type":"text","value":"Input validation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To validate the request body, use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.input"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"export default route\n  .input(\n    zod\n      .object({ name: zod.string() })\n      .strict()\n  )\n  .handle(async ({ input }) => {\n    return new Response(Status.Ok, {\n      // input is type-safe \n      message: `Hello ${input.name}`\n    });\n  });\n","filename":"routes/index.post.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"route"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    zod"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"      ."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"object"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"({ name: zod."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"() })"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"      ."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"strict"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  )"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-47790b"},"children":[{"type":"text","value":"// input is type-safe "}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"      message: "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"`Hello ${"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"}`"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  });"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"route-parameters"},"children":[{"type":"text","value":"Route parameters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Consider this route, which should greet the user using the name given in the route path."}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will not build, as params are unknown by default."}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport default route\n  .handle(async ({ params }) => {\n    const name = params.name; // Error: 'params' is of type 'unknown'\n\n    return new Response(Status.Ok, {\n      message: `Hello ${name}!`,\n    });\n  });\n","filename":"routes/hello/[name].get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"route"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" params.name; "}]},{"type":"element","tag":"span","props":{"class":"ct-47790b"},"children":[{"type":"text","value":"// Error: 'params' is of type 'unknown'"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"      message: "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"`Hello ${"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"}!`"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  });"}]}]}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"alert","props":{"type":"success"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To statically validate parameters, export a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"params"}]},{"type":"text","value":" array and add it to the handler."}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport const params = [\"name\"] as const;\n\nexport default route\n  .params(params) // <- register params\n  .handle(async ({ params }) => {\n    const name = params.name; // OK!\n\n    return new Response(Status.Ok, {\n      message: `Hello ${name}!`,\n    });\n  });\n","filename":"routes/hello/[name].get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" ["}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"route"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(params) "}]},{"type":"element","tag":"span","props":{"class":"ct-47790b"},"children":[{"type":"text","value":"// <- register params"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" params.name; "}]},{"type":"element","tag":"span","props":{"class":"ct-47790b"},"children":[{"type":"text","value":"// OK!"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"      message: "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"`Hello ${"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"}!`"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  });"}]}]}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now consider adding additional parameters that are not present in the actual route filename:"}]},{"type":"element","tag":"alert","props":{"type":"danger"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The params will be checked while building to validate the parameters are actually valid. If not, the build will fail."}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\n// another_param is defined, but not defined in the route filename.\n// This will show a warning while developing, and will fatally error during build\nexport const params = [\"name\", \"another_param\"] as const;\n\nexport default route\n  .params(params)\n  .handle(async ({ params }) => {\n    const name = params.name;\n\n    return new Response(Status.Ok, {\n      message: `Hello ${name}!`,\n    });\n  });\n","filename":"routes/hello/[name].get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47790b"},"children":[{"type":"text","value":"// another_param is defined, but not defined in the route filename."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47790b"},"children":[{"type":"text","value":"// This will show a warning while developing, and will fatally error during build"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" ["}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"another_param\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"route"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(params)"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" params.name;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"      message: "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"`Hello ${"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"}!`"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  });"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"redirects"},"children":[{"type":"text","value":"Redirects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Redirect"}]},{"type":"text","value":" is a helper class that wraps the standard "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Response"}]},{"type":"text","value":" class for easier redirect handling."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Redirect, route } from \"svarta\";\n\nexport default route.handle(async () => {\n  return new Redirect(\"https://google.com\", true /* permanent */);\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" { Redirect, route } "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Redirect"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"https://google.com\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-47790b"},"children":[{"type":"text","value":"/* permanent */"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"route-input-reference"},"children":[{"type":"text","value":"Route input reference"}]},{"type":"element","tag":"h3","props":{"id":"ctx"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ctx"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"User-provided context. This can be set by using "},{"type":"element","tag":"a","props":{"href":"/usage/middlewares"},"children":[{"type":"text","value":"middlewares"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"path"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Full path without the query parameters."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user?id=3"}]},{"type":"text","value":" => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user"}]}]},{"type":"element","tag":"h3","props":{"id":"url"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Full path with query parameters."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user?id=3"}]},{"type":"text","value":" => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user?id=3"}]}]},{"type":"element","tag":"h3","props":{"id":"method"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"method"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"HTTP method ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST"}]},{"type":"text","value":", etc)."}]},{"type":"element","tag":"h3","props":{"id":"headers"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"headers"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Can be used to get and set HTTP headers."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Redirect, Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ headers }) => {\n  if (!headers.get(\"authorization\")) {\n    return new Redirect(\"/\", false);\n  }\n  headers.set(\"content-type\", \"application/yaml\");\n  return new Response(Status.Ok, \"message: welcome to the secret page\");\n});\n","filename":"routes/secret.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" { Redirect, Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" ({ headers }) "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"headers."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"authorization\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":")) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Redirect"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"/\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  headers."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"content-type\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"application/yaml\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(Status.Ok, "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"message: welcome to the secret page\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"input"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"input"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Input body. Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.input"}]},{"type":"text","value":" to define an input, which will automatically validated before your route handler runs. See "},{"type":"element","tag":"a","props":{"href":"#input-validation"},"children":[{"type":"text","value":"above"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"params"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"params"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Route parameters. See "},{"type":"element","tag":"a","props":{"href":"#route-parameters"},"children":[{"type":"text","value":"above"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"query"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"query"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Route query parameters."}]},{"type":"element","tag":"h3","props":{"id":"isdev"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"isDev"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Development flag, which is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" if the app is run in development mode."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ headers, isDev }) => {\n  if (!isDev) {\n    logRequest();\n  }\n\n  return new Response(Status.Ok, {\n    message: \"hello\",\n  });\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" ({ headers, isDev }) "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"isDev) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"logRequest"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    message: "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"hello\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"cookies"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cookies"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Can be used to get and set HTTP cookies."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Redirect, Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ cookies }) => {\n  const session = cookies.get(\"session\");\n  if (!session) {\n    return new Redirect(\"/\", false);\n  };\n\n  const user = await getUser(session);\n  if (!user) {\n    return new Redirect(\"/\", false);\n  }\n\n  cookies.set(\"session\", generateSession(), {\n    httpOnly: true\n    // additional cookie parameters here\n    // the options parameter is optional\n  });\n\n  return new Response(Status.Ok, {\n    message: \"You are signed in\"\n  });\n});\n","filename":"routes/dashboard.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" { Redirect, Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" ({ cookies }) "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"session"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" cookies."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"session\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"session) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Redirect"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"/\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  };"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"getUser"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(session);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"user) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Redirect"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"/\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  cookies."}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"session\""}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"generateSession"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(), {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    httpOnly: "}]},{"type":"element","tag":"span","props":{"class":"ct-87e661"},"children":[{"type":"text","value":"true"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-47790b"},"children":[{"type":"text","value":"// additional cookie parameters here"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-47790b"},"children":[{"type":"text","value":"// the options parameter is optional"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b676f"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-322b2a"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"    message: "}]},{"type":"element","tag":"span","props":{"class":"ct-84dc84"},"children":[{"type":"text","value":"\"You are signed in\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-a1d357"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-805e05"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-87e661{color:#0550AE}\n.ct-47790b{color:#6E7781}\n.ct-322b2a{color:#8250DF}\n.ct-a1d357{color:#953800}\n.ct-84dc84{color:#0A3069}\n.ct-805e05{color:#24292F}\n.ct-5b676f{color:#CF222E}\n.dark .ct-5b676f{color:#FF7B72}\n.dark .ct-805e05{color:#C9D1D9}\n.dark .ct-84dc84{color:#A5D6FF}\n.dark .ct-a1d357{color:#FFA657}\n.dark .ct-322b2a{color:#D2A8FF}\n.dark .ct-47790b{color:#8B949E}\n.dark .ct-87e661{color:#79C0FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"file-based-routing","depth":2,"text":"File-based routing"},{"id":"route-handling","depth":2,"text":"Route handling"},{"id":"input-validation","depth":2,"text":"Input validation"},{"id":"route-parameters","depth":2,"text":"Route parameters"},{"id":"redirects","depth":2,"text":"Redirects"},{"id":"route-input-reference","depth":2,"text":"Route input reference","children":[{"id":"ctx","depth":3,"text":"ctx"},{"id":"path","depth":3,"text":"path"},{"id":"url","depth":3,"text":"url"},{"id":"method","depth":3,"text":"method"},{"id":"headers","depth":3,"text":"headers"},{"id":"input","depth":3,"text":"input"},{"id":"params","depth":3,"text":"params"},{"id":"query","depth":3,"text":"query"},{"id":"isdev","depth":3,"text":"isDev"},{"id":"cookies","depth":3,"text":"cookies"}]}]}},"_type":"markdown","_id":"content:2.usage:0.routes.md","_source":"content","_file":"2.usage/0.routes.md","_extension":"md"},{"_path":"/usage/middlewares","_dir":"usage","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Middlewares","description":"To create a middleware, use route.middleware. The callback is your middleware function and can access all the info a route can. By returning an object you can add context your route can later consume.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"middlewares"},"children":[{"type":"text","value":"Middlewares"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a middleware, use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.middleware"}]},{"type":"text","value":". The callback is your middleware function and can access all the info a route can. By returning an object you can add context your route can later consume."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nconst protectedRoute = route.middleware(async ({ headers, ctx }) => {\n  const authHeader = headers.get(\"authorization\");\n\n  if (!authHeader) {\n    return new Response(Status.Unauthorized);\n  }\n\n  const user = await getUser(authHeader);\n\n  return {\n    ...ctx,\n    user,\n  };\n});\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Response, route, Status } from \"svarta\";\n\nconst protectedRoute = route.middleware(async ({ headers, ctx }) => {\n  const authHeader = headers.get(\"authorization\");\n\n  if (!authHeader) {\n    return new Response(Status.Unauthorized);\n  }\n\n  const user = await getUser(authHeader);\n\n  return {\n    ...ctx,\n    user,\n  };\n});\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"chaining-middlewares"},"children":[{"type":"text","value":"Chaining middlewares"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can chain middlewares by calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".middleware"}]},{"type":"text","value":" on another middleware. This will return a new middleware."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\n// See example above for \"protectedRoute\"\nconst signedRoute = protectedRoute.middleware(async ({ headers, ctx }) => {\n  headers.set(\"x-my-header\", \"abc\");\n  return ctx;\n})\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Response, route, Status } from \"svarta\";\n\n// See example above for \"protectedRoute\"\nconst signedRoute = protectedRoute.middleware(async ({ headers, ctx }) => {\n  headers.set(\"x-my-header\", \"abc\");\n  return ctx;\n})\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n"}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"middlewares"},"children":[{"type":"text","value":"Middlewares"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a middleware, use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.middleware"}]},{"type":"text","value":". The callback is your middleware function and can access all the info a route can. By returning an object you can add context your route can later consume."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nconst protectedRoute = route.middleware(async ({ headers, ctx }) => {\n  const authHeader = headers.get(\"authorization\");\n\n  if (!authHeader) {\n    return new Response(Status.Unauthorized);\n  }\n\n  const user = await getUser(authHeader);\n\n  return {\n    ...ctx,\n    user,\n  };\n});\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-864a2d"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5c582b"},"children":[{"type":"text","value":"protectedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" route."}]},{"type":"element","tag":"span","props":{"class":"ct-bf50a4"},"children":[{"type":"text","value":"middleware"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":"headers"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":"ctx"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5c582b"},"children":[{"type":"text","value":"authHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" headers."}]},{"type":"element","tag":"span","props":{"class":"ct-bf50a4"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-864a2d"},"children":[{"type":"text","value":"\"authorization\""}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"authHeader) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bf50a4"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"(Status.Unauthorized);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5c582b"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bf50a4"},"children":[{"type":"text","value":"getUser"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"(authHeader);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"ctx,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"    user,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  };"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"});"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"protectedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-bf50a4"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":" ({ ctx }) "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bf50a4"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"    user: ctx.user,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"chaining-middlewares"},"children":[{"type":"text","value":"Chaining middlewares"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can chain middlewares by calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".middleware"}]},{"type":"text","value":" on another middleware. This will return a new middleware."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\n// See example above for \"protectedRoute\"\nconst signedRoute = protectedRoute.middleware(async ({ headers, ctx }) => {\n  headers.set(\"x-my-header\", \"abc\");\n  return ctx;\n})\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-864a2d"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-184110"},"children":[{"type":"text","value":"// See example above for \"protectedRoute\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5c582b"},"children":[{"type":"text","value":"signedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" protectedRoute."}]},{"type":"element","tag":"span","props":{"class":"ct-bf50a4"},"children":[{"type":"text","value":"middleware"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":"headers"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":"ctx"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  headers."}]},{"type":"element","tag":"span","props":{"class":"ct-bf50a4"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-864a2d"},"children":[{"type":"text","value":"\"x-my-header\""}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-864a2d"},"children":[{"type":"text","value":"\"abc\""}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" ctx;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"protectedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-bf50a4"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":" ({ ctx }) "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7ec6cb"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bf50a4"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"    user: ctx.user,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-f546a4"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-47f871"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-184110{color:#6E7781}\n.ct-f546a4{color:#953800}\n.ct-bf50a4{color:#8250DF}\n.ct-5c582b{color:#0550AE}\n.ct-864a2d{color:#0A3069}\n.ct-47f871{color:#24292F}\n.ct-7ec6cb{color:#CF222E}\n.dark .ct-7ec6cb{color:#FF7B72}\n.dark .ct-47f871{color:#C9D1D9}\n.dark .ct-864a2d{color:#A5D6FF}\n.dark .ct-5c582b{color:#79C0FF}\n.dark .ct-bf50a4{color:#D2A8FF}\n.dark .ct-f546a4{color:#FFA657}\n.dark .ct-184110{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"chaining-middlewares","depth":2,"text":"Chaining middlewares"}]}},"_type":"markdown","_id":"content:2.usage:1.middlewares.md","_source":"content","_file":"2.usage/1.middlewares.md","_extension":"md"},{"_path":"/usage/config","_dir":"usage","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Configuration","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: ADAPTER,\n};\n\nexport default config;\n","filename":"svarta.config.mjs","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: ADAPTER,\n};\n\nexport default config;\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"reference"},"children":[{"type":"text","value":"Reference"}]},{"type":"element","tag":"h3","props":{"id":"routefolder"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"routeFolder"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"routes\""}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The base folder from which all routes are loaded and based on."}]},{"type":"element","tag":"h3","props":{"id":"minify"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"minify"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Minifies your code to reduce bundle size."}]},{"type":"element","tag":"h3","props":{"id":"adapter"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"adapter"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The chosen adapter determines to which platform you want to deploy your server to. "},{"type":"element","tag":"a","props":{"href":"/adapters"},"children":[{"type":"text","value":"More info here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"packagemanager"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"packageManager"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Your preferred package manager."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Allowed values: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm"}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: ADAPTER,\n};\n\nexport default config;\n","filename":"svarta.config.mjs","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d5e388"},"children":[{"type":"text","value":"/**"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d5e388"},"children":[{"type":"text","value":" * "}]},{"type":"element","tag":"span","props":{"class":"ct-d29edf"},"children":[{"type":"text","value":"@type"}]},{"type":"element","tag":"span","props":{"class":"ct-d5e388"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e164f9"},"children":[{"type":"text","value":"{import(\"@svarta/cli\").Config}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d5e388"},"children":[{"type":"text","value":" */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d29edf"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-412b8c"},"children":[{"type":"text","value":"config"}]},{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d29edf"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":"  packageManager: "}]},{"type":"element","tag":"span","props":{"class":"ct-9f2214"},"children":[{"type":"text","value":"\"npm\""}]},{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":"  routeFolder: "}]},{"type":"element","tag":"span","props":{"class":"ct-9f2214"},"children":[{"type":"text","value":"\"routes\""}]},{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":"  minify: "}]},{"type":"element","tag":"span","props":{"class":"ct-412b8c"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":"  adapter: "}]},{"type":"element","tag":"span","props":{"class":"ct-412b8c"},"children":[{"type":"text","value":"ADAPTER"}]},{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":"};"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-d29edf"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-e164f9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d29edf"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-e164f9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-90c403"},"children":[{"type":"text","value":"config;"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"reference"},"children":[{"type":"text","value":"Reference"}]},{"type":"element","tag":"h3","props":{"id":"routefolder"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"routeFolder"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"routes\""}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The base folder from which all routes are loaded and based on."}]},{"type":"element","tag":"h3","props":{"id":"minify"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"minify"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Minifies your code to reduce bundle size."}]},{"type":"element","tag":"h3","props":{"id":"adapter"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"adapter"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The chosen adapter determines to which platform you want to deploy your server to. "},{"type":"element","tag":"a","props":{"href":"/adapters"},"children":[{"type":"text","value":"More info here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"packagemanager"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"packageManager"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Your preferred package manager."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Allowed values: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm"}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-9f2214{color:#0A3069}\n.ct-412b8c{color:#0550AE}\n.ct-90c403{color:#24292F}\n.ct-e164f9{color:#953800}\n.ct-d29edf{color:#CF222E}\n.ct-d5e388{color:#6E7781}\n.dark .ct-d5e388{color:#8B949E}\n.dark .ct-d29edf{color:#FF7B72}\n.dark .ct-e164f9{color:#FFA657}\n.dark .ct-90c403{color:#C9D1D9}\n.dark .ct-412b8c{color:#79C0FF}\n.dark .ct-9f2214{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"example","depth":2,"text":"Example"},{"id":"reference","depth":2,"text":"Reference","children":[{"id":"routefolder","depth":3,"text":"routeFolder"},{"id":"minify","depth":3,"text":"minify"},{"id":"adapter","depth":3,"text":"adapter"},{"id":"packagemanager","depth":3,"text":"packageManager"}]}]}},"_type":"markdown","_id":"content:2.usage:2.config.md","_source":"content","_file":"2.usage/2.config.md","_extension":"md"},{"_path":"/usage/cli","_dir":"usage","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Command line tool","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"command-line-tool"},"children":[{"type":"text","value":"Command line tool"}]},{"type":"element","tag":"h2","props":{"id":"install"},"children":[{"type":"text","value":"Install"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"npm i -g @svarta/cli\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm i -g @svarta/cli\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"help"},"children":[{"type":"text","value":"Help"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta help\nsvarta [command] --help\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"svarta help\nsvarta [command] --help\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"scaffold-new-project"},"children":[{"type":"text","value":"Scaffold new project"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta init --manager [npm,yarn,pnpm]\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"svarta init --manager [npm,yarn,pnpm]\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Same as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create svarta-app"}]}]},{"type":"element","tag":"h2","props":{"id":"run-development-server"},"children":[{"type":"text","value":"Run development server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta dev\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"svarta dev\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"build-server"},"children":[{"type":"text","value":"Build server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta build\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"svarta build\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"deploy-server"},"children":[{"type":"text","value":"Deploy server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta deploy\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"svarta deploy\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"show-version"},"children":[{"type":"text","value":"Show version"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta --version\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"svarta --version\n"}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"command-line-tool"},"children":[{"type":"text","value":"Command line tool"}]},{"type":"element","tag":"h2","props":{"id":"install"},"children":[{"type":"text","value":"Install"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"npm i -g @svarta/cli\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-be33a7"},"children":[{"type":"text","value":"npm i -g @svarta/cli"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"help"},"children":[{"type":"text","value":"Help"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta help\nsvarta [command] --help\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-be33a7"},"children":[{"type":"text","value":"svarta "}]},{"type":"element","tag":"span","props":{"class":"ct-468eb8"},"children":[{"type":"text","value":"help"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-be33a7"},"children":[{"type":"text","value":"svarta [command] --help"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"scaffold-new-project"},"children":[{"type":"text","value":"Scaffold new project"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta init --manager [npm,yarn,pnpm]\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-be33a7"},"children":[{"type":"text","value":"svarta init --manager [npm,yarn,pnpm]"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Same as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create svarta-app"}]}]},{"type":"element","tag":"h2","props":{"id":"run-development-server"},"children":[{"type":"text","value":"Run development server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta dev\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-be33a7"},"children":[{"type":"text","value":"svarta dev"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"build-server"},"children":[{"type":"text","value":"Build server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta build\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-be33a7"},"children":[{"type":"text","value":"svarta build"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"deploy-server"},"children":[{"type":"text","value":"Deploy server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta deploy\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-be33a7"},"children":[{"type":"text","value":"svarta deploy"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"show-version"},"children":[{"type":"text","value":"Show version"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta --version\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-be33a7"},"children":[{"type":"text","value":"svarta --version"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-468eb8{color:#0550AE}\n.ct-be33a7{color:#24292F}\n.dark .ct-be33a7{color:#C9D1D9}\n.dark .ct-468eb8{color:#79C0FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"install","depth":2,"text":"Install"},{"id":"help","depth":2,"text":"Help"},{"id":"scaffold-new-project","depth":2,"text":"Scaffold new project"},{"id":"run-development-server","depth":2,"text":"Run development server"},{"id":"build-server","depth":2,"text":"Build server"},{"id":"deploy-server","depth":2,"text":"Deploy server"},{"id":"show-version","depth":2,"text":"Show version"}]}},"_type":"markdown","_id":"content:2.usage:3.cli.md","_source":"content","_file":"2.usage/3.cli.md","_extension":"md"},{"_path":"/adapters/_dir","_dir":"adapters","_draft":false,"_partial":true,"_locale":"en","title":"Adapters","_id":"content:3.adapters:_dir.yml","_type":"yaml","_source":"content","_file":"3.adapters/_dir.yml","_extension":"yml"},{"_path":"/adapters","_dir":"","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Adapters","description":"Adapters build & bundle your routes and automatically provide a translation layer between Svarta routes and the underlying platform. Depending on the chosen adapter, it may also provide a way to automatically deploy your application.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"adapters"},"children":[{"type":"text","value":"Adapters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Adapters build & bundle your routes and automatically provide a translation layer between Svarta routes and the underlying platform. Depending on the chosen adapter, it may also provide a way to automatically deploy your application."}]},{"type":"element","tag":"nuxt-img","props":{"src":"/arch.png"},"children":[]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"adapters"},"children":[{"type":"text","value":"Adapters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Adapters build & bundle your routes and automatically provide a translation layer between Svarta routes and the underlying platform. Depending on the chosen adapter, it may also provide a way to automatically deploy your application."}]},{"type":"element","tag":"nuxt-img","props":{"src":"/arch.png"},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.adapters:0.index.md","_source":"content","_file":"3.adapters/0.index.md","_extension":"md"},{"_path":"/adapters/standalone","_dir":"adapters","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Standalone","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"standalone"},"children":[{"type":"text","value":"Standalone"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Package: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@svarta/adapter-standalone"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the default deployment target. It is powered by "},{"type":"element","tag":"a","props":{"href":"https://tinyhttp.v1rtl.site/","rel":["nofollow"]},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":", weighing in at only about 250 kB. Your routes will be bundled and minified into a single file using "},{"type":"element","tag":"a","props":{"href":"https://esbuild.github.io/","rel":["nofollow"]},"children":[{"type":"text","value":"esbuild"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import standaloneAdapter from \"@svarta/adapter-standalone\";\n\n/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: standaloneAdapter({\n    defaultPort: 7777,\n    provider: \"tinyhttp\",\n    outputFile: \".output/server.mjs\",\n    logger: {\n      enabled: true,\n    },\n    // TODO: public serving\n    // TODO: deploy\n  }),\n};\n\nexport default config;\n","filename":"svarta.config.mjs","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import standaloneAdapter from \"@svarta/adapter-standalone\";\n\n/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: standaloneAdapter({\n    defaultPort: 7777,\n    provider: \"tinyhttp\",\n    outputFile: \".output/server.mjs\",\n    logger: {\n      enabled: true,\n    },\n    // TODO: public serving\n    // TODO: deploy\n  }),\n};\n\nexport default config;\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the example above, just run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node .output/server.mjs"}]},{"type":"text","value":" to run the server."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out the full standalone starter template "},{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/tree/main/templates/starter-http","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-reference"},"children":[{"type":"text","value":"Configuration reference"}]},{"type":"element","tag":"h3","props":{"id":"defaultport"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defaultPort"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default port to bind to. The HTTP port can be dynamically adjusted using the environment variables "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SVARTA_PORT"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PORT"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"provider"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provider"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"tinyhttp\""}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The server backend library. Currently, only "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":" is supported."}]},{"type":"element","tag":"h3","props":{"id":"outputfile"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"outputFile"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The output file to which your server will be bundled & output to."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the file ends with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".js"}]},{"type":"text","value":", it will be converted as CommonJS server, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".mjs"}]},{"type":"text","value":" emits an ESM server instead, which is recommended."}]},{"type":"element","tag":"h3","props":{"id":"logger"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{ enabled: true }"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger.enabled"}]},{"type":"text","value":" is true, a simple HTTP logger is installed before your routes."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"manual-install"},"children":[{"type":"text","value":"Manual install"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn add -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn add -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"npx i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npx i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n"}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"standalone"},"children":[{"type":"text","value":"Standalone"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Package: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@svarta/adapter-standalone"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the default deployment target. It is powered by "},{"type":"element","tag":"a","props":{"href":"https://tinyhttp.v1rtl.site/","rel":["nofollow"]},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":", weighing in at only about 250 kB. Your routes will be bundled and minified into a single file using "},{"type":"element","tag":"a","props":{"href":"https://esbuild.github.io/","rel":["nofollow"]},"children":[{"type":"text","value":"esbuild"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import standaloneAdapter from \"@svarta/adapter-standalone\";\n\n/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: standaloneAdapter({\n    defaultPort: 7777,\n    provider: \"tinyhttp\",\n    outputFile: \".output/server.mjs\",\n    logger: {\n      enabled: true,\n    },\n    // TODO: public serving\n    // TODO: deploy\n  }),\n};\n\nexport default config;\n","filename":"svarta.config.mjs","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-29cbd5"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":" standaloneAdapter "}]},{"type":"element","tag":"span","props":{"class":"ct-29cbd5"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-312830"},"children":[{"type":"text","value":"\"@svarta/adapter-standalone\""}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-55c01a"},"children":[{"type":"text","value":"/**"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-55c01a"},"children":[{"type":"text","value":" * "}]},{"type":"element","tag":"span","props":{"class":"ct-29cbd5"},"children":[{"type":"text","value":"@type"}]},{"type":"element","tag":"span","props":{"class":"ct-55c01a"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-449f3e"},"children":[{"type":"text","value":"{import(\"@svarta/cli\").Config}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-55c01a"},"children":[{"type":"text","value":" */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-29cbd5"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2cc61c"},"children":[{"type":"text","value":"config"}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-29cbd5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"  packageManager: "}]},{"type":"element","tag":"span","props":{"class":"ct-312830"},"children":[{"type":"text","value":"\"npm\""}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"  routeFolder: "}]},{"type":"element","tag":"span","props":{"class":"ct-312830"},"children":[{"type":"text","value":"\"routes\""}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"  minify: "}]},{"type":"element","tag":"span","props":{"class":"ct-2cc61c"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"  adapter: "}]},{"type":"element","tag":"span","props":{"class":"ct-01f644"},"children":[{"type":"text","value":"standaloneAdapter"}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"    defaultPort: "}]},{"type":"element","tag":"span","props":{"class":"ct-2cc61c"},"children":[{"type":"text","value":"7777"}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"    provider: "}]},{"type":"element","tag":"span","props":{"class":"ct-312830"},"children":[{"type":"text","value":"\"tinyhttp\""}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"    outputFile: "}]},{"type":"element","tag":"span","props":{"class":"ct-312830"},"children":[{"type":"text","value":"\".output/server.mjs\""}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"    logger: {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"      enabled: "}]},{"type":"element","tag":"span","props":{"class":"ct-2cc61c"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-55c01a"},"children":[{"type":"text","value":"// TODO: public serving"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-55c01a"},"children":[{"type":"text","value":"// TODO: deploy"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"  }),"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"};"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-29cbd5"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-449f3e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-29cbd5"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-449f3e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"config;"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the example above, just run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node .output/server.mjs"}]},{"type":"text","value":" to run the server."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out the full standalone starter template "},{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/tree/main/templates/starter-http","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-reference"},"children":[{"type":"text","value":"Configuration reference"}]},{"type":"element","tag":"h3","props":{"id":"defaultport"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defaultPort"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default port to bind to. The HTTP port can be dynamically adjusted using the environment variables "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SVARTA_PORT"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PORT"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"provider"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provider"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"tinyhttp\""}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The server backend library. Currently, only "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":" is supported."}]},{"type":"element","tag":"h3","props":{"id":"outputfile"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"outputFile"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The output file to which your server will be bundled & output to."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the file ends with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".js"}]},{"type":"text","value":", it will be converted as CommonJS server, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".mjs"}]},{"type":"text","value":" emits an ESM server instead, which is recommended."}]},{"type":"element","tag":"h3","props":{"id":"logger"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{ enabled: true }"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger.enabled"}]},{"type":"text","value":" is true, a simple HTTP logger is installed before your routes."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"manual-install"},"children":[{"type":"text","value":"Manual install"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app milliparsec"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn add -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"yarn add -D @svarta/adapter-standalone @tinyhttp/app milliparsec"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npx i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-66678e"},"children":[{"type":"text","value":"npx i -D @svarta/adapter-standalone @tinyhttp/app milliparsec"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-01f644{color:#8250DF}\n.ct-2cc61c{color:#0550AE}\n.ct-449f3e{color:#953800}\n.ct-55c01a{color:#6E7781}\n.ct-312830{color:#0A3069}\n.ct-66678e{color:#24292F}\n.ct-29cbd5{color:#CF222E}\n.dark .ct-29cbd5{color:#FF7B72}\n.dark .ct-66678e{color:#C9D1D9}\n.dark .ct-312830{color:#A5D6FF}\n.dark .ct-55c01a{color:#8B949E}\n.dark .ct-449f3e{color:#FFA657}\n.dark .ct-2cc61c{color:#79C0FF}\n.dark .ct-01f644{color:#D2A8FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration-reference","depth":2,"text":"Configuration reference","children":[{"id":"defaultport","depth":3,"text":"defaultPort"},{"id":"provider","depth":3,"text":"provider"},{"id":"outputfile","depth":3,"text":"outputFile"},{"id":"logger","depth":3,"text":"logger"}]},{"id":"manual-install","depth":2,"text":"Manual install"}]}},"_type":"markdown","_id":"content:3.adapters:1.standalone.md","_source":"content","_file":"3.adapters/1.standalone.md","_extension":"md"},{"_path":"/adapters/lambda","_dir":"adapters","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"AWS Lambda","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"aws-lambda"},"children":[{"type":"text","value":"AWS Lambda"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Package: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@svarta/adapter-lambda"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Uses API Gateway & Lambda functions"}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"W.I.P."}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"aws-lambda"},"children":[{"type":"text","value":"AWS Lambda"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Package: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@svarta/adapter-lambda"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Uses API Gateway & Lambda functions"}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"W.I.P."}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.adapters:2.lambda.md","_source":"content","_file":"3.adapters/2.lambda.md","_extension":"md"},{"_path":"/deployment/_dir","_dir":"deployment","_draft":false,"_partial":true,"_locale":"en","title":"Deployment","_id":"content:4.deployment:_dir.yml","_type":"yaml","_source":"content","_file":"4.deployment/_dir.yml","_extension":"yml"},{"_path":"/deployment/fly","_dir":"deployment","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Fly.io","description":"Live URL","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"flyio"},"children":[{"type":"text","value":"Fly.io"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://hellosvarta.fly.dev/","rel":["nofollow"]},"children":[{"type":"text","value":"Live URL"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/tree/main/examples/minimal-flyio-docker","rel":["nofollow"]},"children":[{"type":"text","value":"Repository"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's setup a simple web server on "},{"type":"element","tag":"a","props":{"href":"https://fly.io/","rel":["nofollow"]},"children":[{"type":"text","value":"fly.io"}]},{"type":"text","value":" using Docker."}]},{"type":"element","tag":"h2","props":{"id":"setup-flyio"},"children":[{"type":"text","value":"Setup fly.io"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a fly.io account"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Make sure the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"flyctl"}]},{"type":"text","value":" CLI tool is installed"}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out the "},{"type":"element","tag":"a","props":{"href":"https://fly.io/docs/hands-on/install-flyctl/","rel":["nofollow"]},"children":[{"type":"text","value":"fly.io Docs"}]},{"type":"text","value":" for more information"}]}]},{"type":"element","tag":"h2","props":{"id":"setup-web-server"},"children":[{"type":"text","value":"Setup web server"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now setup a new HTTP web server using:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm create svarta-app\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pnpm create svarta-app\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn create svarta-app\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn create svarta-app\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"npm create svarta-app\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm create svarta-app\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And follow the in-terminal instructions. Select the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"starter-http"}]},{"type":"text","value":" template."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The template comes with a Dockerfile, so we're almost ready to go. Just one thing:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"svarta.config.mjs"}]},{"type":"text","value":" change "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defaultPort"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"8080"}]},{"type":"text","value":" (the default for fly.io). Else, you could change the port by using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PORT"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SVARTA_PORT"}]},{"type":"text","value":" environment variables."}]},{"type":"element","tag":"h2","props":{"id":"optional-adjust-your-project"},"children":[{"type":"text","value":"(Optional) Adjust your project"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create or change routes as required. To run the development server, run:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm dev\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pnpm dev\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn dev\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn dev\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"npm run dev\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npm run dev\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you're done, it's time to deploy the app!"}]},{"type":"element","tag":"h2","props":{"id":"create-flyio-app"},"children":[{"type":"text","value":"Create fly.io app"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"flyctl launch\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"flyctl launch\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"flyctl will detect the Dockerfile. Go through the setup and then deploy using:"}]},{"type":"element","tag":"h2","props":{"id":"deploy-to-flyio"},"children":[{"type":"text","value":"Deploy to fly.io"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"flyctl deploy\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"flyctl deploy\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Wait for the docker image to deploy, then your API will be deployed on [app-name].fly.dev."}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"flyio"},"children":[{"type":"text","value":"Fly.io"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://hellosvarta.fly.dev/","rel":["nofollow"]},"children":[{"type":"text","value":"Live URL"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/tree/main/examples/minimal-flyio-docker","rel":["nofollow"]},"children":[{"type":"text","value":"Repository"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's setup a simple web server on "},{"type":"element","tag":"a","props":{"href":"https://fly.io/","rel":["nofollow"]},"children":[{"type":"text","value":"fly.io"}]},{"type":"text","value":" using Docker."}]},{"type":"element","tag":"h2","props":{"id":"setup-flyio"},"children":[{"type":"text","value":"Setup fly.io"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a fly.io account"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Make sure the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"flyctl"}]},{"type":"text","value":" CLI tool is installed"}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out the "},{"type":"element","tag":"a","props":{"href":"https://fly.io/docs/hands-on/install-flyctl/","rel":["nofollow"]},"children":[{"type":"text","value":"fly.io Docs"}]},{"type":"text","value":" for more information"}]}]},{"type":"element","tag":"h2","props":{"id":"setup-web-server"},"children":[{"type":"text","value":"Setup web server"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now setup a new HTTP web server using:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm create svarta-app\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-597268"},"children":[{"type":"text","value":"pnpm create svarta-app"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn create svarta-app\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-597268"},"children":[{"type":"text","value":"yarn create svarta-app"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npm create svarta-app\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-597268"},"children":[{"type":"text","value":"npm create svarta-app"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And follow the in-terminal instructions. Select the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"starter-http"}]},{"type":"text","value":" template."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The template comes with a Dockerfile, so we're almost ready to go. Just one thing:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"svarta.config.mjs"}]},{"type":"text","value":" change "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defaultPort"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"8080"}]},{"type":"text","value":" (the default for fly.io). Else, you could change the port by using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PORT"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SVARTA_PORT"}]},{"type":"text","value":" environment variables."}]},{"type":"element","tag":"h2","props":{"id":"optional-adjust-your-project"},"children":[{"type":"text","value":"(Optional) Adjust your project"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create or change routes as required. To run the development server, run:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm dev\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-597268"},"children":[{"type":"text","value":"pnpm dev"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn dev\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-597268"},"children":[{"type":"text","value":"yarn dev"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npm run dev\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-597268"},"children":[{"type":"text","value":"npm run dev"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When you're done, it's time to deploy the app!"}]},{"type":"element","tag":"h2","props":{"id":"create-flyio-app"},"children":[{"type":"text","value":"Create fly.io app"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"flyctl launch\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-597268"},"children":[{"type":"text","value":"flyctl launch"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"flyctl will detect the Dockerfile. Go through the setup and then deploy using:"}]},{"type":"element","tag":"h2","props":{"id":"deploy-to-flyio"},"children":[{"type":"text","value":"Deploy to fly.io"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"flyctl deploy\n","filename":"terminal","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-597268"},"children":[{"type":"text","value":"flyctl deploy"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Wait for the docker image to deploy, then your API will be deployed on [app-name].fly.dev."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-597268{color:#24292F}\n.dark .ct-597268{color:#C9D1D9}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"setup-flyio","depth":2,"text":"Setup fly.io"},{"id":"setup-web-server","depth":2,"text":"Setup web server"},{"id":"optional-adjust-your-project","depth":2,"text":"(Optional) Adjust your project"},{"id":"create-flyio-app","depth":2,"text":"Create fly.io app"},{"id":"deploy-to-flyio","depth":2,"text":"Deploy to fly.io"}]}},"_type":"markdown","_id":"content:4.deployment:0.fly.md","_source":"content","_file":"4.deployment/0.fly.md","_extension":"md"}],"navigation":[{"title":"Guide","_path":"/guide","children":[{"title":"Introduction","_path":"/guide"},{"title":"Quickstart","_path":"/guide/quickstart"},{"title":"Contribute","_path":"/guide/contribute"}]},{"title":"Usage","_path":"/usage","children":[{"title":"Routes","_path":"/usage/routes"},{"title":"Middlewares","_path":"/usage/middlewares"},{"title":"Configuration","_path":"/usage/config"},{"title":"Command line tool","_path":"/usage/cli"}]},{"title":"Adapters","_path":"/adapters","children":[{"title":"Adapters","_path":"/adapters"},{"title":"Standalone","_path":"/adapters/standalone"},{"title":"AWS Lambda","_path":"/adapters/lambda"}]},{"title":"Deployment","_path":"/deployment","children":[{"title":"Fly.io","_path":"/deployment/fly"}]}]}