{"generatedAt":1681929235076,"generateTime":21,"contents":[{"_path":"/","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Home","description":"","navigation":false,"layout":"page","body":{"type":"root","children":[{"type":"element","tag":"block-hero","props":{":cta":"[\"Get Started\",\"/guide\"]",":secondary":"[\"Open on GitHub â†’\",\"https://github.com/marvin-j97/svarta\"]","snippet":"pnpm create svarta-app"},"children":[{"type":"element","tag":"template","props":{"v-slot:title":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"REST APIs "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"without the hassle"}]}]}]},{"type":"element","tag":"template","props":{"v-slot:description":""},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Svarta is a TypeScript-native, ESM-native platform-agnostic REST API framework."}]}]},{"type":"element","tag":"template","props":{"v-slot:extra":""},"children":[{"type":"element","tag":"list","props":{},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"TypeScript- & ESM-native"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/usage/routes"},"children":[{"type":"text","value":"File-based routing"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/usage/middlewares"},"children":[{"type":"text","value":"Type-safe middlewares"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Development server with hot module reload (HMR)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Platform-agnostic (see "},{"type":"element","tag":"a","props":{"href":"/adapters"},"children":[{"type":"text","value":"Adapters"}]},{"type":"text","value":")"}]}]}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:0.index.md","_source":"content","_file":"0.index.md","_extension":"md"},{"_path":"/guide/_dir","_dir":"guide","_draft":false,"_partial":true,"_locale":"","title":"Guide","_id":"content:1.guide:_dir.yml","_type":"yaml","_source":"content","_file":"1.guide/_dir.yml","_extension":"yml"},{"_path":"/guide","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Introduction","description":"Svarta is a TypeScript-native, ESM-native REST API framework.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"introduction"},"children":[{"type":"text","value":"Introduction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Svarta is a TypeScript-native, ESM-native REST API framework."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By abstracting the underlying platform, it allows deployment to different platforms without changing your code. Routes are organized using file-based routing, commonly used in fullstack frameworks like Next.js or SvelteKit."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You also get:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"typesafe middlewares"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"file-based routing"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"input validation (with "},{"type":"element","tag":"a","props":{"href":"https://zod.dev/","rel":["nofollow"]},"children":[{"type":"text","value":"Zod"}]},{"type":"text","value":")"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"dependency bundling (treeshaking etc.)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"CLI to scaffold projects"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"development server with HMR"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It aims to provide a more robust developer experience than established packages like "},{"type":"element","tag":"a","props":{"href":"https://expressjs.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Express"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"https://koajs.com/","rel":["nofollow"]},"children":[{"type":"text","value":"Koa"}]},{"type":"text","value":".\nSvarta will scaffold your application from the ground up, removing the overhead of installing and setting up development dependencies, toolchains and build scripts. "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"Say goodbye to setting up 15 packages to get your Express project started!"}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Setup a new project in under 2 minutes using the "},{"type":"element","tag":"a","props":{"href":"/guide/quickstart"},"children":[{"type":"text","value":"Quickstart"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"inspirations"},"children":[{"type":"text","value":"Inspirations"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Svarta is mostly inspired by"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nextjs.org/","rel":["nofollow"]},"children":[{"type":"text","value":"Next.js"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://trpc.io/","rel":["nofollow"]},"children":[{"type":"text","value":"tRPC"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io/","rel":["nofollow"]},"children":[{"type":"text","value":"Nitro"}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"inspirations","depth":2,"text":"Inspirations"}]}},"_type":"markdown","_id":"content:1.guide:0.index.md","_source":"content","_file":"1.guide/0.index.md","_extension":"md"},{"_path":"/guide/quickstart","_dir":"guide","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Quickstart","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"quickstart"},"children":[{"type":"text","value":"Quickstart"}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Node.js 14.18 or higher is required"}]}]},{"type":"element","tag":"h2","props":{"id":"scaffold-new-project"},"children":[{"type":"text","value":"Scaffold new project"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm create svarta-app\n","filename":"pnpm","language":"bash","meta":"[pnpm]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-52c4db"},"children":[{"type":"text","value":"pnpm"}]},{"type":"element","tag":"span","props":{"class":"ct-2be2ad"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6015f4"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-2be2ad"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6015f4"},"children":[{"type":"text","value":"svarta-app"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn create svarta-app\n","filename":"yarn","language":"bash","meta":"[yarn]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-52c4db"},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"span","props":{"class":"ct-2be2ad"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6015f4"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-2be2ad"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6015f4"},"children":[{"type":"text","value":"svarta-app"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npm create svarta-app\n","filename":"npm","language":"bash","meta":"[npm]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-52c4db"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"class":"ct-2be2ad"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6015f4"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-2be2ad"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6015f4"},"children":[{"type":"text","value":"svarta-app"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And follow the in-terminal instructions."}]},{"type":"element","tag":"h2","props":{"id":"start-development-server"},"children":[{"type":"text","value":"Start development server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm dev\n","filename":"pnpm","language":"bash","meta":"[pnpm]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-52c4db"},"children":[{"type":"text","value":"pnpm"}]},{"type":"element","tag":"span","props":{"class":"ct-2be2ad"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6015f4"},"children":[{"type":"text","value":"dev"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn dev\n","filename":"yarn","language":"bash","meta":"[yarn]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-52c4db"},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"span","props":{"class":"ct-2be2ad"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6015f4"},"children":[{"type":"text","value":"dev"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npm run dev\n","filename":"npm","language":"bash","meta":"[npm]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-52c4db"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"class":"ct-2be2ad"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6015f4"},"children":[{"type":"text","value":"run"}]},{"type":"element","tag":"span","props":{"class":"ct-2be2ad"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6015f4"},"children":[{"type":"text","value":"dev"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default project contains an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index.html"}]},{"type":"text","value":" file that is served as / and an API route that returns a text, which will be inserted into the HTML page."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out "},{"type":"element","tag":"a","props":{"href":"/usage/routes"},"children":[{"type":"text","value":"Usage"}]},{"type":"text","value":" to learn how to create routes."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-6015f4{color:#0A3069}\n.ct-2be2ad{color:#24292F}\n.ct-52c4db{color:#953800}\n.dark .ct-52c4db{color:#FFA657}\n.dark .ct-2be2ad{color:#C9D1D9}\n.dark .ct-6015f4{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"scaffold-new-project","depth":2,"text":"Scaffold new project"},{"id":"start-development-server","depth":2,"text":"Start development server"}]}},"_type":"markdown","_id":"content:1.guide:1.quickstart.md","_source":"content","_file":"1.guide/1.quickstart.md","_extension":"md"},{"_path":"/guide/contribute","_dir":"guide","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Contribute","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"contribute"},"children":[{"type":"text","value":"Contribute"}]},{"type":"element","tag":"h2","props":{"id":"setup-repository"},"children":[{"type":"text","value":"Setup repository"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Fork and clone the repository"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Make sure "},{"type":"element","tag":"a","props":{"href":"https://pnpm.io","rel":["nofollow"]},"children":[{"type":"text","value":"PNPM"}]},{"type":"text","value":" is installed"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Install dependencies with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm install"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a new branch"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add your changes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm lint -- --fix"}]},{"type":"text","value":" to check & automatically fix your code"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm test"}]},{"type":"text","value":" to run tests"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Commit & push your changes"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a pull request "},{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/pulls","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]}]},{"type":"element","tag":"h2","props":{"id":"rundown-of-packages"},"children":[{"type":"text","value":"Rundown of packages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The repository is a monorepo using "},{"type":"element","tag":"a","props":{"href":"https://pnpm.io/workspaces","rel":["nofollow"]},"children":[{"type":"text","value":"PNPM workspaces"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://turbo.build/repo","rel":["nofollow"]},"children":[{"type":"text","value":"Turborepo"}]},{"type":"text","value":". The packages are as follows:"}]},{"type":"element","tag":"h3","props":{"id":"core"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"core"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This package contains most type definitions and functionality that will be used in the other packages."}]},{"type":"element","tag":"h3","props":{"id":"svarta"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"svarta"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the main user facing package and exports the most important utility, like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Response"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route"}]},{"type":"text","value":" etc from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"core"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"cli"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cli"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the "},{"type":"element","tag":"a","props":{"href":"/usage/cli"},"children":[{"type":"text","value":"command line tool"}]},{"type":"text","value":", which provides commands like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dev"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"build"}]},{"type":"text","value":" etc."}]},{"type":"element","tag":"h3","props":{"id":"dev-server"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dev-server"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the "},{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io/","rel":["nofollow"]},"children":[{"type":"text","value":"nitro-powered"}]},{"type":"text","value":" development server that will be invoked using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"svarta dev"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"create-svarta-app"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create-svarta-app"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the scaffolding tool, see "},{"type":"element","tag":"a","props":{"href":"/guide/quickstart"},"children":[{"type":"text","value":"Quickstart"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"adapter-standalone"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"adapter-standalone"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the standalone adapter, powered by "},{"type":"element","tag":"a","props":{"href":"https://tinyhttp.v1rtl.site/","rel":["nofollow"]},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":". See "},{"type":"element","tag":"a","props":{"href":"/adapters"},"children":[{"type":"text","value":"Adapters"}]},{"type":"text","value":" for more info."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"setup-repository","depth":2,"text":"Setup repository"},{"id":"rundown-of-packages","depth":2,"text":"Rundown of packages","children":[{"id":"core","depth":3,"text":"core"},{"id":"svarta","depth":3,"text":"svarta"},{"id":"cli","depth":3,"text":"cli"},{"id":"dev-server","depth":3,"text":"dev-server"},{"id":"create-svarta-app","depth":3,"text":"create-svarta-app"},{"id":"adapter-standalone","depth":3,"text":"adapter-standalone"}]}]}},"_type":"markdown","_id":"content:1.guide:2.contribute.md","_source":"content","_file":"1.guide/2.contribute.md","_extension":"md"},{"_path":"/usage/_dir","_dir":"usage","_draft":false,"_partial":true,"_locale":"","title":"Usage","_id":"content:2.usage:_dir.yml","_type":"yaml","_source":"content","_file":"2.usage/_dir.yml","_extension":"yml"},{"_path":"/usage/routes","_dir":"usage","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Routes","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"routes"},"children":[{"type":"text","value":"Routes"}]},{"type":"element","tag":"h2","props":{"id":"file-based-routing"},"children":[{"type":"text","value":"File-based routing"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"routes"}]},{"type":"text","value":" folder (can be changed in the configuration), you can create new files to map to specific routes. Route files are formatted as follows:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index.get.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"user.get.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /user"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"user/index.get.ts"}]},{"type":"text","value":" also maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /user"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hello/[name].get.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET /hello/[name]"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"index.post.ts"}]},{"type":"text","value":" maps to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST /"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"etc."}]},{"type":"element","tag":"h2","props":{"id":"route-handling"},"children":[{"type":"text","value":"Route handling"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a route, default export a route handler by calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.handle"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route"}]},{"type":"text","value":" is the default route entry point and can be extended using "},{"type":"element","tag":"a","props":{"href":"/usage/middlewares"},"children":[{"type":"text","value":"middlewares"}]}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport default route.handle(async () => {\n  return new Response(Status.Ok, \"Hello world!\");\n});\n","filename":"routes/index.get.ts","language":"ts","meta":"[routes/index.get.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(Status.Ok, "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"Hello world!\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To send a response, use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Response"}]},{"type":"text","value":" class."}]},{"type":"element","tag":"h2","props":{"id":"input-validation"},"children":[{"type":"text","value":"Input validation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To validate the request body, use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.input"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"export default route\n  .input(zod.object({ name: zod.string() }).strict())\n  .handle(async ({ input }) => {\n    return new Response(Status.Ok, {\n      // input is type-safe\n      message: `Hello ${input.name}`,\n    });\n  });\n","filename":"routes/index.post.ts","language":"ts","meta":"[routes/index.post.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"route"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(zod."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"object"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"({ name: zod."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"() })."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"strict"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"())"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  ."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-a8a1dc"},"children":[{"type":"text","value":"// input is type-safe"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"      message: "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"`Hello ${"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"}`"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  });"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"route-parameters"},"children":[{"type":"text","value":"Route parameters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Consider this route, which should greet the user using the name given in the route path."}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will not build, as params are unknown by default."}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport default route\n    .handle(async ({ params }) => {\n      const { name } = params; // Error: 'params' is of type 'unknown'\n\n  return new Response(Status.Ok, {\n    message: `Hello ${name}!`,\n  });\n});\n","filename":"routes/hello/[name].get.ts","language":"ts","meta":"[routes/hello/[name].get.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"route"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" params; "}]},{"type":"element","tag":"span","props":{"class":"ct-a8a1dc"},"children":[{"type":"text","value":"// Error: 'params' is of type 'unknown'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    message: "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"`Hello ${"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"}!`"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"});"}]}]}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"alert","props":{"type":"success"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To statically validate parameters, export a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"params"}]},{"type":"text","value":" array and add it to the handler."}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport const params = [\"name\"] as const;\n\nexport default route\n    .params(params) // <- register params\n    .handle(async ({ params }) => {\n      const { name } = params; // OK!\n\n    return new Response(Status.Ok, {\n      message: `Hello ${name}!`,\n    });\n  });\n","filename":"routes/hello/[name].get.ts","language":"ts","meta":"[routes/hello/[name].get.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" ["}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"route"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(params) "}]},{"type":"element","tag":"span","props":{"class":"ct-a8a1dc"},"children":[{"type":"text","value":"// <- register params"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" params; "}]},{"type":"element","tag":"span","props":{"class":"ct-a8a1dc"},"children":[{"type":"text","value":"// OK!"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"      message: "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"`Hello ${"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"}!`"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  });"}]}]}]}]}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now consider adding additional parameters that are not present in the actual route filename:"}]},{"type":"element","tag":"alert","props":{"type":"danger"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The params will be checked while building to validate the parameters are actually valid. If not, the build will fail."}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\n// another_param is defined, but not defined in the route filename.\n// This will show a warning while developing, and will fatally error during build\nexport const params = [\"name\", \"another_param\"] as const;\n\nexport default route\n    .params(params)\n    .handle(async ({ params }) => {\n      const { name } = params;\n\n  return new Response(Status.Ok, {\n    message: `Hello ${name}!`,\n  });\n});\n","filename":"routes/hello/[name].get.ts","language":"ts","meta":"[routes/hello/[name].get.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a8a1dc"},"children":[{"type":"text","value":"// another_param is defined, but not defined in the route filename."}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a8a1dc"},"children":[{"type":"text","value":"// This will show a warning while developing, and will fatally error during build"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" ["}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"name\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"another_param\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"route"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(params)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    ."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" params;"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    message: "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"`Hello ${"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"}!`"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"});"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"redirects"},"children":[{"type":"text","value":"Redirects"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Redirect"}]},{"type":"text","value":" is a helper class that wraps the standard "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Response"}]},{"type":"text","value":" class for easier redirect handling."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Redirect, route } from \"svarta\";\n\nexport default route.handle(async () => {\n  return new Redirect(\"https://google.com\", true /* permanent */);\n});\n","filename":"routes/index.get.ts","language":"ts","meta":"[routes/index.get.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { Redirect, route } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Redirect"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"https://google.com\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a8a1dc"},"children":[{"type":"text","value":"/* permanent */"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"route-input-reference"},"children":[{"type":"text","value":"Route input reference"}]},{"type":"element","tag":"h3","props":{"id":"ctx"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ctx"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"User-provided context. This can be set by using "},{"type":"element","tag":"a","props":{"href":"/usage/middlewares"},"children":[{"type":"text","value":"middlewares"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"path"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Full path without the query parameters."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user?id=3"}]},{"type":"text","value":" => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user"}]}]},{"type":"element","tag":"h3","props":{"id":"url"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Full path with query parameters."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Example: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user?id=3"}]},{"type":"text","value":" => "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/user?id=3"}]}]},{"type":"element","tag":"h3","props":{"id":"method"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"method"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"HTTP method ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GET"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"POST"}]},{"type":"text","value":", etc)."}]},{"type":"element","tag":"h3","props":{"id":"headers"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"headers"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Can be used to get and set HTTP headers."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Redirect, Response, route, Status } from \"svarta\";\nimport YAML from \"yaml\";\n\nexport default route.handle(async ({ headers }) => {\n  if (!headers.get(\"authorization\")) {\n    return new Redirect(\"/\", false);\n  }\n\n  headers.set(\"content-type\", \"application/yaml\");\n  const body = YAML.stringify({\n    message: \"welcome to the secret page\",\n  });\n\n  return new Response(Status.Ok, body);\n});\n","filename":"routes/secret.get.ts","language":"ts","meta":"[routes/secret.get.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { Redirect, Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" YAML "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"yaml\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" ({ headers }) "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"headers."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"authorization\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":")) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Redirect"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"/\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  headers."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"content-type\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"application/yaml\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"body"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"YAML"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"stringify"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    message: "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"welcome to the secret page\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(Status.Ok, body);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"input"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"input"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Input body. Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.input"}]},{"type":"text","value":" to define an input, which will be automatically validated before your route handler runs. See "},{"type":"element","tag":"a","props":{"href":"#input-validation"},"children":[{"type":"text","value":"above"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"params"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"params"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Route parameters. See "},{"type":"element","tag":"a","props":{"href":"#route-parameters"},"children":[{"type":"text","value":"above"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"query"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"query"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Route query parameters."}]},{"type":"element","tag":"h3","props":{"id":"isdev"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"isDev"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Development flag, which is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" if the app is run in development mode."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ headers, isDev }) => {\n  if (!isDev) {\n    logRequest();\n  }\n\n  return new Response(Status.Ok, {\n    message: \"hello\",\n  });\n});\n","filename":"routes/index.get.ts","language":"ts","meta":"[routes/index.get.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" ({ headers, isDev }) "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"isDev) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"logRequest"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    message: "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"hello\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"cookies"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"cookies"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Can be used to get and set HTTP cookies."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Redirect, Response, route, Status } from \"svarta\";\n\nexport default route.handle(async ({ cookies }) => {\n  const session = cookies.get(\"session\");\n  if (!session) {\n    return new Redirect(\"/\", false);\n  }\n\n  const user = await getUser(session);\n  if (!user) {\n    return new Redirect(\"/\", false);\n  }\n\n  cookies.set(\"session\", generateSession(), {\n    httpOnly: true,\n    // additional cookie parameters here\n    // the options parameter is optional\n  });\n\n  return new Response(Status.Ok, {\n    message: \"You are signed in\",\n  });\n});\n","filename":"routes/dashboard.get.ts","language":"ts","meta":"[routes/dashboard.get.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" { Redirect, Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" ({ cookies }) "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"session"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" cookies."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"session\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"session) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Redirect"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"/\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"getUser"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(session);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"user) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Redirect"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"/\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  cookies."}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"session\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"generateSession"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(), {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    httpOnly: "}]},{"type":"element","tag":"span","props":{"class":"ct-0f62ec"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a8a1dc"},"children":[{"type":"text","value":"// additional cookie parameters here"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a8a1dc"},"children":[{"type":"text","value":"// the options parameter is optional"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1777ba"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e0e8b8"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"    message: "}]},{"type":"element","tag":"span","props":{"class":"ct-cd11ac"},"children":[{"type":"text","value":"\"You are signed in\""}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-19ff92"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-b840b5"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-0f62ec{color:#0550AE}\n.ct-a8a1dc{color:#6E7781}\n.ct-e0e8b8{color:#8250DF}\n.ct-19ff92{color:#953800}\n.ct-cd11ac{color:#0A3069}\n.ct-b840b5{color:#24292F}\n.ct-1777ba{color:#CF222E}\n.dark .ct-1777ba{color:#FF7B72}\n.dark .ct-b840b5{color:#C9D1D9}\n.dark .ct-cd11ac{color:#A5D6FF}\n.dark .ct-19ff92{color:#FFA657}\n.dark .ct-e0e8b8{color:#D2A8FF}\n.dark .ct-a8a1dc{color:#8B949E}\n.dark .ct-0f62ec{color:#79C0FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"file-based-routing","depth":2,"text":"File-based routing"},{"id":"route-handling","depth":2,"text":"Route handling"},{"id":"input-validation","depth":2,"text":"Input validation"},{"id":"route-parameters","depth":2,"text":"Route parameters"},{"id":"redirects","depth":2,"text":"Redirects"},{"id":"route-input-reference","depth":2,"text":"Route input reference","children":[{"id":"ctx","depth":3,"text":"ctx"},{"id":"path","depth":3,"text":"path"},{"id":"url","depth":3,"text":"url"},{"id":"method","depth":3,"text":"method"},{"id":"headers","depth":3,"text":"headers"},{"id":"input","depth":3,"text":"input"},{"id":"params","depth":3,"text":"params"},{"id":"query","depth":3,"text":"query"},{"id":"isdev","depth":3,"text":"isDev"},{"id":"cookies","depth":3,"text":"cookies"}]}]}},"_type":"markdown","_id":"content:2.usage:0.routes.md","_source":"content","_file":"2.usage/0.routes.md","_extension":"md"},{"_path":"/usage/middlewares","_dir":"usage","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Middlewares","description":"To create a middleware, use route.middleware. The callback is your middleware function and can access all the info a route can. By returning an object you can add context your route can later consume.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"middlewares"},"children":[{"type":"text","value":"Middlewares"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a middleware, use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.middleware"}]},{"type":"text","value":". The callback is your middleware function and can access all the info a route can. By returning an object you can add context your route can later consume."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nconst protectedRoute = route.middleware(async ({ headers, ctx }) => {\n  const authHeader = headers.get(\"authorization\");\n\n  if (!authHeader) {\n    return new Response(Status.Unauthorized);\n  }\n\n  const user = await getUser(authHeader);\n\n  return {\n    ...ctx,\n    user,\n  };\n});\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n","filename":"routes/index.get.ts","language":"ts","meta":"[routes/index.get.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5915a4"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e25f79"},"children":[{"type":"text","value":"protectedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" route."}]},{"type":"element","tag":"span","props":{"class":"ct-6744c7"},"children":[{"type":"text","value":"middleware"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":"headers"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":"ctx"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e25f79"},"children":[{"type":"text","value":"authHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" headers."}]},{"type":"element","tag":"span","props":{"class":"ct-6744c7"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5915a4"},"children":[{"type":"text","value":"\"authorization\""}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"authHeader) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6744c7"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"(Status.Unauthorized);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e25f79"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6744c7"},"children":[{"type":"text","value":"getUser"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"(authHeader);"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"ctx,"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"    user,"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  };"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"});"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"protectedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-6744c7"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":" ({ ctx }) "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6744c7"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"    user: ctx.user,"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"chaining-middlewares"},"children":[{"type":"text","value":"Chaining middlewares"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can chain middlewares by calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".middleware"}]},{"type":"text","value":" on another middleware. This will return a new middleware."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\n// See example above for \"protectedRoute\"\nconst signedRoute = protectedRoute.middleware(async ({ headers, ctx }) => {\n  headers.set(\"x-my-header\", \"abc\");\n  return ctx;\n})\n\nexport default signedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n","filename":"routes/index.get.ts","language":"ts","meta":"[routes/index.get.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5915a4"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-58a27a"},"children":[{"type":"text","value":"// See example above for \"protectedRoute\""}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e25f79"},"children":[{"type":"text","value":"signedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" protectedRoute."}]},{"type":"element","tag":"span","props":{"class":"ct-6744c7"},"children":[{"type":"text","value":"middleware"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":"headers"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":"ctx"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  headers."}]},{"type":"element","tag":"span","props":{"class":"ct-6744c7"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5915a4"},"children":[{"type":"text","value":"\"x-my-header\""}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-5915a4"},"children":[{"type":"text","value":"\"abc\""}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" ctx;"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"})"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"signedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-6744c7"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":" ({ ctx }) "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-17e42b"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6744c7"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"    user: ctx.user,"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-bbc965"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-183340"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-58a27a{color:#6E7781}\n.ct-bbc965{color:#953800}\n.ct-6744c7{color:#8250DF}\n.ct-e25f79{color:#0550AE}\n.ct-5915a4{color:#0A3069}\n.ct-183340{color:#24292F}\n.ct-17e42b{color:#CF222E}\n.dark .ct-17e42b{color:#FF7B72}\n.dark .ct-183340{color:#C9D1D9}\n.dark .ct-5915a4{color:#A5D6FF}\n.dark .ct-e25f79{color:#79C0FF}\n.dark .ct-6744c7{color:#D2A8FF}\n.dark .ct-bbc965{color:#FFA657}\n.dark .ct-58a27a{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"chaining-middlewares","depth":2,"text":"Chaining middlewares"}]}},"_type":"markdown","_id":"content:2.usage:1.middlewares.md","_source":"content","_file":"2.usage/1.middlewares.md","_extension":"md"},{"_path":"/usage/config","_dir":"usage","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Configuration","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"configuration"},"children":[{"type":"text","value":"Configuration"}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: ADAPTER,\n};\n\nexport default config;\n","filename":"svarta.config.mjs","language":"js","meta":"[svarta.config.mjs]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5cc709"},"children":[{"type":"text","value":"/**"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5cc709"},"children":[{"type":"text","value":" * "}]},{"type":"element","tag":"span","props":{"class":"ct-22c4d2"},"children":[{"type":"text","value":"@type"}]},{"type":"element","tag":"span","props":{"class":"ct-5cc709"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-479634"},"children":[{"type":"text","value":"{import(\"@svarta/cli\").Config}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5cc709"},"children":[{"type":"text","value":" */"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-22c4d2"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-299810"},"children":[{"type":"text","value":"config"}]},{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22c4d2"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":"  packageManager: "}]},{"type":"element","tag":"span","props":{"class":"ct-5fbdcc"},"children":[{"type":"text","value":"\"npm\""}]},{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":"  routeFolder: "}]},{"type":"element","tag":"span","props":{"class":"ct-5fbdcc"},"children":[{"type":"text","value":"\"routes\""}]},{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":"  minify: "}]},{"type":"element","tag":"span","props":{"class":"ct-299810"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":"  adapter: "}]},{"type":"element","tag":"span","props":{"class":"ct-299810"},"children":[{"type":"text","value":"ADAPTER"}]},{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":"};"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-22c4d2"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-479634"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-22c4d2"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-479634"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2b6f80"},"children":[{"type":"text","value":"config;"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"reference"},"children":[{"type":"text","value":"Reference"}]},{"type":"element","tag":"h3","props":{"id":"routefolder"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"routeFolder"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"routes\""}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The base folder from which all routes are loaded and based on."}]},{"type":"element","tag":"h3","props":{"id":"minify"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"minify"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Minifies your code to reduce bundle size."}]},{"type":"element","tag":"h3","props":{"id":"adapter"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"adapter"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The chosen adapter determines to which platform you want to deploy your server to. "},{"type":"element","tag":"a","props":{"href":"/adapters"},"children":[{"type":"text","value":"More info here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"packagemanager"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"packageManager"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Your preferred package manager."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Allowed values: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"yarn"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pnpm"}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-5fbdcc{color:#0A3069}\n.ct-299810{color:#0550AE}\n.ct-2b6f80{color:#24292F}\n.ct-479634{color:#953800}\n.ct-22c4d2{color:#CF222E}\n.ct-5cc709{color:#6E7781}\n.dark .ct-5cc709{color:#8B949E}\n.dark .ct-22c4d2{color:#FF7B72}\n.dark .ct-479634{color:#FFA657}\n.dark .ct-2b6f80{color:#C9D1D9}\n.dark .ct-299810{color:#79C0FF}\n.dark .ct-5fbdcc{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"example","depth":2,"text":"Example"},{"id":"reference","depth":2,"text":"Reference","children":[{"id":"routefolder","depth":3,"text":"routeFolder"},{"id":"minify","depth":3,"text":"minify"},{"id":"adapter","depth":3,"text":"adapter"},{"id":"packagemanager","depth":3,"text":"packageManager"}]}]}},"_type":"markdown","_id":"content:2.usage:2.config.md","_source":"content","_file":"2.usage/2.config.md","_extension":"md"},{"_path":"/usage/cli","_dir":"usage","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Command line tool","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"command-line-tool"},"children":[{"type":"text","value":"Command line tool"}]},{"type":"element","tag":"h2","props":{"id":"install"},"children":[{"type":"text","value":"Install"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"npm i -g @svarta/cli\n","filename":"terminal","language":"bash","meta":"[terminal]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-69425c"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30a856"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11e2aa"},"children":[{"type":"text","value":"-g"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30a856"},"children":[{"type":"text","value":"@svarta/cli"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"help"},"children":[{"type":"text","value":"Help"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta help\nsvarta [command] --help\n","filename":"terminal","language":"bash","meta":"[terminal]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-69425c"},"children":[{"type":"text","value":"svarta"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30a856"},"children":[{"type":"text","value":"help"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-69425c"},"children":[{"type":"text","value":"svarta"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" [command] "}]},{"type":"element","tag":"span","props":{"class":"ct-11e2aa"},"children":[{"type":"text","value":"--help"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"scaffold-new-project"},"children":[{"type":"text","value":"Scaffold new project"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta init --manager [npm,yarn,pnpm]\n","filename":"terminal","language":"bash","meta":"[terminal]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-69425c"},"children":[{"type":"text","value":"svarta"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30a856"},"children":[{"type":"text","value":"init"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11e2aa"},"children":[{"type":"text","value":"--manager"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" [npm,yarn,pnpm]"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Same as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"create svarta-app"}]}]},{"type":"element","tag":"h2","props":{"id":"run-development-server"},"children":[{"type":"text","value":"Run development server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta dev\n","filename":"terminal","language":"bash","meta":"[terminal]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-69425c"},"children":[{"type":"text","value":"svarta"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30a856"},"children":[{"type":"text","value":"dev"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"build-server"},"children":[{"type":"text","value":"Build server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta build\n","filename":"terminal","language":"bash","meta":"[terminal]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-69425c"},"children":[{"type":"text","value":"svarta"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30a856"},"children":[{"type":"text","value":"build"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"deploy-server"},"children":[{"type":"text","value":"Deploy server"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta deploy\n","filename":"terminal","language":"bash","meta":"[terminal]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-69425c"},"children":[{"type":"text","value":"svarta"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-30a856"},"children":[{"type":"text","value":"deploy"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"show-version"},"children":[{"type":"text","value":"Show version"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"svarta --version\n","filename":"terminal","language":"bash","meta":"[terminal]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-69425c"},"children":[{"type":"text","value":"svarta"}]},{"type":"element","tag":"span","props":{"class":"ct-57229e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-11e2aa"},"children":[{"type":"text","value":"--version"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-11e2aa{color:#0550AE}\n.ct-30a856{color:#0A3069}\n.ct-57229e{color:#24292F}\n.ct-69425c{color:#953800}\n.dark .ct-69425c{color:#FFA657}\n.dark .ct-57229e{color:#C9D1D9}\n.dark .ct-30a856{color:#A5D6FF}\n.dark .ct-11e2aa{color:#79C0FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"install","depth":2,"text":"Install"},{"id":"help","depth":2,"text":"Help"},{"id":"scaffold-new-project","depth":2,"text":"Scaffold new project"},{"id":"run-development-server","depth":2,"text":"Run development server"},{"id":"build-server","depth":2,"text":"Build server"},{"id":"deploy-server","depth":2,"text":"Deploy server"},{"id":"show-version","depth":2,"text":"Show version"}]}},"_type":"markdown","_id":"content:2.usage:3.cli.md","_source":"content","_file":"2.usage/3.cli.md","_extension":"md"},{"_path":"/adapters/_dir","_dir":"adapters","_draft":false,"_partial":true,"_locale":"","title":"Adapters","_id":"content:3.adapters:_dir.yml","_type":"yaml","_source":"content","_file":"3.adapters/_dir.yml","_extension":"yml"},{"_path":"/adapters","_dir":"","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Adapters","description":"Adapters build & bundle your routes and automatically provide a translation layer between Svarta routes and the underlying platform. Depending on the chosen adapter, it may also provide a way to automatically deploy your application.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"adapters"},"children":[{"type":"text","value":"Adapters"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Adapters build & bundle your routes and automatically provide a translation layer between Svarta routes and the underlying platform. Depending on the chosen adapter, it may also provide a way to automatically deploy your application."}]},{"type":"element","tag":"nuxt-img","props":{"src":"/arch.png"},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.adapters:0.index.md","_source":"content","_file":"3.adapters/0.index.md","_extension":"md"},{"_path":"/adapters/standalone","_dir":"adapters","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Standalone","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"standalone"},"children":[{"type":"text","value":"Standalone"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Package: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@svarta/adapter-standalone"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the default deployment target. It is powered by "},{"type":"element","tag":"a","props":{"href":"https://tinyhttp.v1rtl.site/","rel":["nofollow"]},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":", weighing in at only about 250 kB. Your routes will be bundled and minified into a single file using "},{"type":"element","tag":"a","props":{"href":"https://esbuild.github.io/","rel":["nofollow"]},"children":[{"type":"text","value":"esbuild"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import standaloneAdapter from \"@svarta/adapter-standalone\";\n\n/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: standaloneAdapter({\n    defaultPort: 7777,\n    provider: \"tinyhttp\",\n    outputFile: \".output/server.mjs\",\n    logger: {\n      enabled: true,\n    },\n    // TODO: public serving\n    // TODO: deploy\n  }),\n};\n\nexport default config;\n","filename":"svarta.config.mjs","language":"js","meta":"[svarta.config.mjs]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b131b7"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" standaloneAdapter "}]},{"type":"element","tag":"span","props":{"class":"ct-b131b7"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"\"@svarta/adapter-standalone\""}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-14d52e"},"children":[{"type":"text","value":"/**"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-14d52e"},"children":[{"type":"text","value":" * "}]},{"type":"element","tag":"span","props":{"class":"ct-b131b7"},"children":[{"type":"text","value":"@type"}]},{"type":"element","tag":"span","props":{"class":"ct-14d52e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-03eaac"},"children":[{"type":"text","value":"{import(\"@svarta/cli\").Config}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-14d52e"},"children":[{"type":"text","value":" */"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b131b7"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcee0f"},"children":[{"type":"text","value":"config"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b131b7"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"  packageManager: "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"\"npm\""}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"  routeFolder: "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"\"routes\""}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"  minify: "}]},{"type":"element","tag":"span","props":{"class":"ct-dcee0f"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"  adapter: "}]},{"type":"element","tag":"span","props":{"class":"ct-588de7"},"children":[{"type":"text","value":"standaloneAdapter"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"    defaultPort: "}]},{"type":"element","tag":"span","props":{"class":"ct-dcee0f"},"children":[{"type":"text","value":"7777"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"    provider: "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"\"tinyhttp\""}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"    outputFile: "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"\".output/server.mjs\""}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"    logger: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"      enabled: "}]},{"type":"element","tag":"span","props":{"class":"ct-dcee0f"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-14d52e"},"children":[{"type":"text","value":"// TODO: public serving"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-14d52e"},"children":[{"type":"text","value":"// TODO: deploy"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"  }),"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"};"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b131b7"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-03eaac"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b131b7"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-03eaac"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":"config;"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the example above, just run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node .output/server.mjs"}]},{"type":"text","value":" to run the server."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out the full standalone starter template "},{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/tree/main/templates/starter-http","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-reference"},"children":[{"type":"text","value":"Configuration reference"}]},{"type":"element","tag":"h3","props":{"id":"defaultport"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defaultPort"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default port to bind to. The HTTP port can be dynamically adjusted using the environment variables "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SVARTA_PORT"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PORT"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"provider"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provider"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"tinyhttp\""}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The server backend library. Currently, only "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":" is supported."}]},{"type":"element","tag":"h3","props":{"id":"outputfile"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"outputFile"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The output file to which your server will be bundled & output to."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the file ends with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".js"}]},{"type":"text","value":", it will be converted as CommonJS server, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".mjs"}]},{"type":"text","value":" emits an ESM server instead, which is recommended."}]},{"type":"element","tag":"h3","props":{"id":"logger"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{ enabled: true }"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger.enabled"}]},{"type":"text","value":" is true, a simple HTTP logger is installed before your routes."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"manual-install"},"children":[{"type":"text","value":"Manual install"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app\n","filename":"pnpm","language":"bash","meta":"[pnpm]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-03eaac"},"children":[{"type":"text","value":"pnpm"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcee0f"},"children":[{"type":"text","value":"-D"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"@svarta/adapter-standalone"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"@tinyhttp/app"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn add -D @svarta/adapter-standalone @tinyhttp/app\n","filename":"yarn","language":"bash","meta":"[yarn]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-03eaac"},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"add"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcee0f"},"children":[{"type":"text","value":"-D"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"@svarta/adapter-standalone"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"@tinyhttp/app"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npx i -D @svarta/adapter-standalone @tinyhttp/app\n","filename":"npm","language":"bash","meta":"[npm]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-03eaac"},"children":[{"type":"text","value":"npx"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"i"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dcee0f"},"children":[{"type":"text","value":"-D"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"@svarta/adapter-standalone"}]},{"type":"element","tag":"span","props":{"class":"ct-6a2713"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5814a7"},"children":[{"type":"text","value":"@tinyhttp/app"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-588de7{color:#8250DF}\n.ct-dcee0f{color:#0550AE}\n.ct-03eaac{color:#953800}\n.ct-14d52e{color:#6E7781}\n.ct-5814a7{color:#0A3069}\n.ct-6a2713{color:#24292F}\n.ct-b131b7{color:#CF222E}\n.dark .ct-b131b7{color:#FF7B72}\n.dark .ct-6a2713{color:#C9D1D9}\n.dark .ct-5814a7{color:#A5D6FF}\n.dark .ct-14d52e{color:#8B949E}\n.dark .ct-03eaac{color:#FFA657}\n.dark .ct-dcee0f{color:#79C0FF}\n.dark .ct-588de7{color:#D2A8FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration-reference","depth":2,"text":"Configuration reference","children":[{"id":"defaultport","depth":3,"text":"defaultPort"},{"id":"provider","depth":3,"text":"provider"},{"id":"outputfile","depth":3,"text":"outputFile"},{"id":"logger","depth":3,"text":"logger"}]},{"id":"manual-install","depth":2,"text":"Manual install"}]}},"_type":"markdown","_id":"content:3.adapters:1.standalone.md","_source":"content","_file":"3.adapters/1.standalone.md","_extension":"md"},{"_path":"/adapters/lambda","_dir":"adapters","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"AWS Lambda","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"aws-lambda"},"children":[{"type":"text","value":"AWS Lambda"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Package: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@svarta/adapter-lambda"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Uses API Gateway & Lambda functions"}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"W.I.P."}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:3.adapters:2.lambda.md","_source":"content","_file":"3.adapters/2.lambda.md","_extension":"md"},{"_path":"/deployment/_dir","_dir":"deployment","_draft":false,"_partial":true,"_locale":"","title":"Deployment","_id":"content:4.deployment:_dir.yml","_type":"yaml","_source":"content","_file":"4.deployment/_dir.yml","_extension":"yml"},{"_path":"/deployment/fly","_dir":"deployment","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Deploying on fly.io","description":"Live URL","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"deploying-on-flyio"},"children":[{"type":"text","value":"Deploying on fly.io"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://hellosvarta.fly.dev/","rel":["nofollow"]},"children":[{"type":"text","value":"Live URL"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/tree/main/examples/minimal-flyio-docker","rel":["nofollow"]},"children":[{"type":"text","value":"Repository"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's setup a simple web server on "},{"type":"element","tag":"a","props":{"href":"https://fly.io/","rel":["nofollow"]},"children":[{"type":"text","value":"fly.io"}]},{"type":"text","value":" using Docker."}]},{"type":"element","tag":"h2","props":{"id":"setup-flyio"},"children":[{"type":"text","value":"Setup fly.io"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Create a fly.io account"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Make sure the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"flyctl"}]},{"type":"text","value":" CLI tool is installed"}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out the "},{"type":"element","tag":"a","props":{"href":"https://fly.io/docs/hands-on/install-flyctl/","rel":["nofollow"]},"children":[{"type":"text","value":"fly.io Docs"}]},{"type":"text","value":" for more information"}]}]},{"type":"element","tag":"h2","props":{"id":"setup-web-server"},"children":[{"type":"text","value":"Setup web server"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now setup a new HTTP web server using:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm create svarta-app\n","filename":"pnpm","language":"bash","meta":"[pnpm]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f780d4"},"children":[{"type":"text","value":"pnpm"}]},{"type":"element","tag":"span","props":{"class":"ct-4df93f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-16f537"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-4df93f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-16f537"},"children":[{"type":"text","value":"svarta-app"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn create svarta-app\n","filename":"yarn","language":"bash","meta":"[yarn]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f780d4"},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"span","props":{"class":"ct-4df93f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-16f537"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-4df93f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-16f537"},"children":[{"type":"text","value":"svarta-app"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npm create svarta-app\n","filename":"npm","language":"bash","meta":"[npm]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f780d4"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"class":"ct-4df93f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-16f537"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-4df93f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-16f537"},"children":[{"type":"text","value":"svarta-app"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And follow the in-terminal instructions. Select the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"starter-http"}]},{"type":"text","value":" template."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The template comes with a Dockerfile, so we're almost ready to go. Just one thing:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"svarta.config.mjs"}]},{"type":"text","value":" change "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defaultPort"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"8080"}]},{"type":"text","value":" (the default for fly.io). Else, you could change the port by using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PORT"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SVARTA_PORT"}]},{"type":"text","value":" environment variables."}]},{"type":"element","tag":"h2","props":{"id":"create-flyio-app"},"children":[{"type":"text","value":"Create fly.io app"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"flyctl launch\n","filename":"terminal","language":"bash","meta":"[terminal]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f780d4"},"children":[{"type":"text","value":"flyctl"}]},{"type":"element","tag":"span","props":{"class":"ct-4df93f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-16f537"},"children":[{"type":"text","value":"launch"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"flyctl will detect the Dockerfile. Go through the setup and then deploy using:"}]},{"type":"element","tag":"h2","props":{"id":"deploy-to-flyio"},"children":[{"type":"text","value":"Deploy to fly.io"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"flyctl deploy\n","filename":"terminal","language":"bash","meta":"[terminal]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-f780d4"},"children":[{"type":"text","value":"flyctl"}]},{"type":"element","tag":"span","props":{"class":"ct-4df93f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-16f537"},"children":[{"type":"text","value":"deploy"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Wait for the docker image to deploy, then your API will be deployed on [app-name].fly.dev."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-16f537{color:#0A3069}\n.ct-4df93f{color:#24292F}\n.ct-f780d4{color:#953800}\n.dark .ct-f780d4{color:#FFA657}\n.dark .ct-4df93f{color:#C9D1D9}\n.dark .ct-16f537{color:#A5D6FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"setup-flyio","depth":2,"text":"Setup fly.io"},{"id":"setup-web-server","depth":2,"text":"Setup web server"},{"id":"create-flyio-app","depth":2,"text":"Create fly.io app"},{"id":"deploy-to-flyio","depth":2,"text":"Deploy to fly.io"}]}},"_type":"markdown","_id":"content:4.deployment:0.fly.md","_source":"content","_file":"4.deployment/0.fly.md","_extension":"md"},{"_path":"/deployment/railway","_dir":"deployment","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Deploying on Railway","description":"Live URL","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"deploying-on-railway"},"children":[{"type":"text","value":"Deploying on Railway"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://hellosvarta.up.railway.app/","rel":["nofollow"]},"children":[{"type":"text","value":"Live URL"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/tree/main/examples/minimal-railway-docker","rel":["nofollow"]},"children":[{"type":"text","value":"Repository"}]}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's setup a simple web server on "},{"type":"element","tag":"a","props":{"href":"https://railway.app/","rel":["nofollow"]},"children":[{"type":"text","value":"Railway"}]},{"type":"text","value":" using Docker."}]},{"type":"element","tag":"h2","props":{"id":"create-repository"},"children":[{"type":"text","value":"Create repository"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Create a new GitHub repository."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Clone the repository locally. Then run:"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm create svarta-app --force\n","filename":"pnpm","language":"bash","meta":"[pnpm]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b825e"},"children":[{"type":"text","value":"pnpm"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"svarta-app"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7290d2"},"children":[{"type":"text","value":"--force"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn create svarta-app --force\n","filename":"yarn","language":"bash","meta":"[yarn]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b825e"},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"svarta-app"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7290d2"},"children":[{"type":"text","value":"--force"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npm create svarta-app --force\n","filename":"npm","language":"bash","meta":"[npm]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b825e"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"create"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"svarta-app"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7290d2"},"children":[{"type":"text","value":"--force"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Enter the repository folder as the project folder."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Then, push the changes to GitHub."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"cd <project-folder>\ngit add .\ngit commit -m \"init\"\ngit push\n","filename":"terminal","language":"bash","meta":"[terminal]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7290d2"},"children":[{"type":"text","value":"cd"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0ccdf"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"project-folde"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":"r"}]},{"type":"element","tag":"span","props":{"class":"ct-f0ccdf"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b825e"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"add"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"."}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b825e"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"commit"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7290d2"},"children":[{"type":"text","value":"-m"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"\"init\""}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-2b825e"},"children":[{"type":"text","value":"git"}]},{"type":"element","tag":"span","props":{"class":"ct-297d44"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6ad494"},"children":[{"type":"text","value":"push"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"deploy-to-railway"},"children":[{"type":"text","value":"Deploy to railway"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, make sure your changes are pushed to GitHub. Then:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"create a new project ("},{"type":"element","tag":"a","props":{"href":"https://railway.app/new","rel":["nofollow"]},"children":[{"type":"text","value":"https://railway.app/new"}]},{"type":"text","value":"), select "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Deploy from GitHub repo"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"select your GitHub repository and click "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Deploy now"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Your app should build now. To view it online, go to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Settings"}]},{"type":"text","value":" and generate a domain. After a couple of seconds, your app should be reachable under that URL."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-f0ccdf{color:#CF222E}\n.ct-7290d2{color:#0550AE}\n.ct-6ad494{color:#0A3069}\n.ct-297d44{color:#24292F}\n.ct-2b825e{color:#953800}\n.dark .ct-2b825e{color:#FFA657}\n.dark .ct-297d44{color:#C9D1D9}\n.dark .ct-6ad494{color:#A5D6FF}\n.dark .ct-7290d2{color:#79C0FF}\n.dark .ct-f0ccdf{color:#FF7B72}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"create-repository","depth":2,"text":"Create repository"},{"id":"deploy-to-railway","depth":2,"text":"Deploy to railway"}]}},"_type":"markdown","_id":"content:4.deployment:1.railway.md","_source":"content","_file":"4.deployment/1.railway.md","_extension":"md"}],"navigation":[{"title":"Guide","_path":"/guide","children":[{"title":"Introduction","_path":"/guide"},{"title":"Quickstart","_path":"/guide/quickstart"},{"title":"Contribute","_path":"/guide/contribute"}]},{"title":"Usage","_path":"/usage","children":[{"title":"Routes","_path":"/usage/routes"},{"title":"Middlewares","_path":"/usage/middlewares"},{"title":"Configuration","_path":"/usage/config"},{"title":"Command line tool","_path":"/usage/cli"}]},{"title":"Adapters","_path":"/adapters","children":[{"title":"Adapters","_path":"/adapters"},{"title":"Standalone","_path":"/adapters/standalone"},{"title":"AWS Lambda","_path":"/adapters/lambda"}]},{"title":"Deployment","_path":"/deployment","children":[{"title":"Deploying on fly.io","_path":"/deployment/fly"},{"title":"Deploying on Railway","_path":"/deployment/railway"}]}]}