[{"_path":"/deployment/standalone","_dir":"deployment","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Standalone","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"standalone"},"children":[{"type":"text","value":"Standalone"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Package: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@svarta/adapter-standalone"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the default deployment target. It is powered by "},{"type":"element","tag":"a","props":{"href":"https://tinyhttp.v1rtl.site/","rel":["nofollow"]},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":", weighing in at only about 250 kB. Your routes will be bundled and minified into a single file using "},{"type":"element","tag":"a","props":{"href":"https://esbuild.github.io/","rel":["nofollow"]},"children":[{"type":"text","value":"esbuild"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import standaloneAdapter from \"@svarta/adapter-standalone\";\n\n/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: standaloneAdapter({\n    defaultPort: 7777,\n    provider: \"tinyhttp\",\n    outputFile: \".output/server.mjs\",\n    logger: {\n      enabled: true,\n    },\n    // TODO: public serving\n    // TODO: deploy\n  }),\n};\n\nexport default config;\n","filename":"svarta.config.mjs","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import standaloneAdapter from \"@svarta/adapter-standalone\";\n\n/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: standaloneAdapter({\n    defaultPort: 7777,\n    provider: \"tinyhttp\",\n    outputFile: \".output/server.mjs\",\n    logger: {\n      enabled: true,\n    },\n    // TODO: public serving\n    // TODO: deploy\n  }),\n};\n\nexport default config;\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the example above, just run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node .output/server.mjs"}]},{"type":"text","value":" to run the server."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out the full standalone starter template "},{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/tree/main/templates/starter-http","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-reference"},"children":[{"type":"text","value":"Configuration reference"}]},{"type":"element","tag":"h3","props":{"id":"defaultport"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defaultPort"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default port to bind to. The HTTP port can be dynamically adjusted using the environment variables "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SVARTA_PORT"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PORT"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"provider"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provider"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"tinyhttp\""}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The server backend library. Currently, only "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":" is supported."}]},{"type":"element","tag":"h3","props":{"id":"outputfile"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"outputFile"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The output file to which your server will be bundled & output to."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the file ends with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".js"}]},{"type":"text","value":", it will be converted as CommonJS server, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".mjs"}]},{"type":"text","value":" emits an ESM server instead, which is recommended."}]},{"type":"element","tag":"h3","props":{"id":"logger"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{ enabled: true }"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger.enabled"}]},{"type":"text","value":" is true, a simple HTTP logger is installed before your routes."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"manual-install"},"children":[{"type":"text","value":"Manual install"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn add -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn add -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"npx i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npx i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n"}]}]}]}]}]},"_type":"markdown","_id":"content:3.deployment:1.standalone.md","_source":"content","_file":"3.deployment/1.standalone.md","_extension":"md"},null]