{"_path":"/usage/middlewares","_dir":"usage","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Middlewares","description":"To create a middleware, use route.middleware. The callback is your middleware function and can access all the info a route can. By returning an object you can add context your route can later consume.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"middlewares"},"children":[{"type":"text","value":"Middlewares"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a middleware, use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.middleware"}]},{"type":"text","value":". The callback is your middleware function and can access all the info a route can. By returning an object you can add context your route can later consume."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nconst protectedRoute = route.middleware(async ({ headers, ctx }) => {\n  const authHeader = headers.get(\"authorization\");\n\n  if (!authHeader) {\n    return new Response(Status.Unauthorized);\n  }\n\n  const user = await getUser(authHeader);\n\n  return {\n    ...ctx,\n    user,\n  };\n});\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Response, route, Status } from \"svarta\";\n\nconst protectedRoute = route.middleware(async ({ headers, ctx }) => {\n  const authHeader = headers.get(\"authorization\");\n\n  if (!authHeader) {\n    return new Response(Status.Unauthorized);\n  }\n\n  const user = await getUser(authHeader);\n\n  return {\n    ...ctx,\n    user,\n  };\n});\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"chaining-middlewares"},"children":[{"type":"text","value":"Chaining middlewares"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can chain middlewares by calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".middleware"}]},{"type":"text","value":" on another middleware. This will return a new middleware."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\n// See example above for \"protectedRoute\"\nconst signedRoute = protectedRoute.middleware(async ({ headers, ctx }) => {\n  headers.set(\"x-my-header\", \"abc\");\n  return ctx;\n})\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import { Response, route, Status } from \"svarta\";\n\n// See example above for \"protectedRoute\"\nconst signedRoute = protectedRoute.middleware(async ({ headers, ctx }) => {\n  headers.set(\"x-my-header\", \"abc\");\n  return ctx;\n})\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n"}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"middlewares"},"children":[{"type":"text","value":"Middlewares"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To create a middleware, use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route.middleware"}]},{"type":"text","value":". The callback is your middleware function and can access all the info a route can. By returning an object you can add context your route can later consume."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\nconst protectedRoute = route.middleware(async ({ headers, ctx }) => {\n  const authHeader = headers.get(\"authorization\");\n\n  if (!authHeader) {\n    return new Response(Status.Unauthorized);\n  }\n\n  const user = await getUser(authHeader);\n\n  return {\n    ...ctx,\n    user,\n  };\n});\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1c77fd"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dd8811"},"children":[{"type":"text","value":"protectedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" route."}]},{"type":"element","tag":"span","props":{"class":"ct-99b516"},"children":[{"type":"text","value":"middleware"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":"headers"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":"ctx"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dd8811"},"children":[{"type":"text","value":"authHeader"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" headers."}]},{"type":"element","tag":"span","props":{"class":"ct-99b516"},"children":[{"type":"text","value":"get"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1c77fd"},"children":[{"type":"text","value":"\"authorization\""}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"authHeader) {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-99b516"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"(Status.Unauthorized);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dd8811"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-99b516"},"children":[{"type":"text","value":"getUser"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"(authHeader);"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"ctx,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"    user,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  };"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"});"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"protectedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-99b516"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":" ({ ctx }) "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-99b516"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"    user: ctx.user,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"chaining-middlewares"},"children":[{"type":"text","value":"Chaining middlewares"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can chain middlewares by calling "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".middleware"}]},{"type":"text","value":" on another middleware. This will return a new middleware."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import { Response, route, Status } from \"svarta\";\n\n// See example above for \"protectedRoute\"\nconst signedRoute = protectedRoute.middleware(async ({ headers, ctx }) => {\n  headers.set(\"x-my-header\", \"abc\");\n  return ctx;\n})\n\nexport default protectedRoute.handle(async ({ ctx }) => {\n  return new Response(Status.Ok, {\n    user: ctx.user,\n  });\n});\n","filename":"routes/index.get.ts","language":"ts"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" { Response, route, Status } "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1c77fd"},"children":[{"type":"text","value":"\"svarta\""}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-17d8c4"},"children":[{"type":"text","value":"// See example above for \"protectedRoute\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dd8811"},"children":[{"type":"text","value":"signedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" protectedRoute."}]},{"type":"element","tag":"span","props":{"class":"ct-99b516"},"children":[{"type":"text","value":"middleware"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" ({ "}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":"headers"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":"ctx"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  headers."}]},{"type":"element","tag":"span","props":{"class":"ct-99b516"},"children":[{"type":"text","value":"set"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-1c77fd"},"children":[{"type":"text","value":"\"x-my-header\""}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-1c77fd"},"children":[{"type":"text","value":"\"abc\""}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":");"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" ctx;"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"})"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"protectedRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-99b516"},"children":[{"type":"text","value":"handle"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":" ({ ctx }) "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a04e1b"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-99b516"},"children":[{"type":"text","value":"Response"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"(Status.Ok, {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"    user: ctx.user,"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"  });"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-f3c171"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-42f4cc"},"children":[{"type":"text","value":";"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-17d8c4{color:#6E7781}\n.ct-f3c171{color:#953800}\n.ct-99b516{color:#8250DF}\n.ct-dd8811{color:#0550AE}\n.ct-1c77fd{color:#0A3069}\n.ct-42f4cc{color:#24292F}\n.ct-a04e1b{color:#CF222E}\n.dark .ct-a04e1b{color:#FF7B72}\n.dark .ct-42f4cc{color:#C9D1D9}\n.dark .ct-1c77fd{color:#A5D6FF}\n.dark .ct-dd8811{color:#79C0FF}\n.dark .ct-99b516{color:#D2A8FF}\n.dark .ct-f3c171{color:#FFA657}\n.dark .ct-17d8c4{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"chaining-middlewares","depth":2,"text":"Chaining middlewares"}]}},"_type":"markdown","_id":"content:2.usage:1.middlewares.md","_source":"content","_file":"2.usage/1.middlewares.md","_extension":"md"}