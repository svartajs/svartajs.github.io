{"_path":"/deployment/standalone","_dir":"deployment","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Standalone","description":"","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"standalone"},"children":[{"type":"text","value":"Standalone"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Package: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@svarta/adapter-standalone"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the default deployment target. It is powered by "},{"type":"element","tag":"a","props":{"href":"https://tinyhttp.v1rtl.site/","rel":["nofollow"]},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":", weighing in at only about 250 kB. Your routes will be bundled and minified into a single file using "},{"type":"element","tag":"a","props":{"href":"https://esbuild.github.io/","rel":["nofollow"]},"children":[{"type":"text","value":"esbuild"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import standaloneAdapter from \"@svarta/adapter-standalone\";\n\n/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: standaloneAdapter({\n    defaultPort: 7777,\n    provider: \"tinyhttp\",\n    outputFile: \".output/server.mjs\",\n    logger: {\n      enabled: true,\n    },\n    // TODO: public serving\n    // TODO: deploy\n  }),\n};\n\nexport default config;\n","filename":"svarta.config.mjs","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"import standaloneAdapter from \"@svarta/adapter-standalone\";\n\n/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: standaloneAdapter({\n    defaultPort: 7777,\n    provider: \"tinyhttp\",\n    outputFile: \".output/server.mjs\",\n    logger: {\n      enabled: true,\n    },\n    // TODO: public serving\n    // TODO: deploy\n  }),\n};\n\nexport default config;\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the example above, just run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node .output/server.mjs"}]},{"type":"text","value":" to run the server."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out the full standalone starter template "},{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/tree/main/templates/starter-http","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-reference"},"children":[{"type":"text","value":"Configuration reference"}]},{"type":"element","tag":"h3","props":{"id":"defaultport"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defaultPort"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default port to bind to. The HTTP port can be dynamically adjusted using the environment variables "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SVARTA_PORT"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PORT"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"provider"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provider"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"tinyhttp\""}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The server backend library. Currently, only "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":" is supported."}]},{"type":"element","tag":"h3","props":{"id":"outputfile"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"outputFile"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The output file to which your server will be bundled & output to."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the file ends with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".js"}]},{"type":"text","value":", it will be converted as CommonJS server, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".mjs"}]},{"type":"text","value":" emits an ESM server instead, which is recommended."}]},{"type":"element","tag":"h3","props":{"id":"logger"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{ enabled: true }"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger.enabled"}]},{"type":"text","value":" is true, a simple HTTP logger is installed before your routes."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"manual-install"},"children":[{"type":"text","value":"Manual install"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn add -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yarn add -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n"}]}]}]},{"type":"element","tag":"code","props":{"code":"npx i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"npx i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n"}]}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"standalone"},"children":[{"type":"text","value":"Standalone"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Package: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@svarta/adapter-standalone"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is the default deployment target. It is powered by "},{"type":"element","tag":"a","props":{"href":"https://tinyhttp.v1rtl.site/","rel":["nofollow"]},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":", weighing in at only about 250 kB. Your routes will be bundled and minified into a single file using "},{"type":"element","tag":"a","props":{"href":"https://esbuild.github.io/","rel":["nofollow"]},"children":[{"type":"text","value":"esbuild"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"import standaloneAdapter from \"@svarta/adapter-standalone\";\n\n/**\n * @type {import(\"@svarta/cli\").Config}\n */\nconst config = {\n  packageManager: \"npm\",\n  routeFolder: \"routes\",\n  minify: true,\n  adapter: standaloneAdapter({\n    defaultPort: 7777,\n    provider: \"tinyhttp\",\n    outputFile: \".output/server.mjs\",\n    logger: {\n      enabled: true,\n    },\n    // TODO: public serving\n    // TODO: deploy\n  }),\n};\n\nexport default config;\n","filename":"svarta.config.mjs","language":"js"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5a920"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":" standaloneAdapter "}]},{"type":"element","tag":"span","props":{"class":"ct-b5a920"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4e4a36"},"children":[{"type":"text","value":"\"@svarta/adapter-standalone\""}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":";"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c00c52"},"children":[{"type":"text","value":"/**"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c00c52"},"children":[{"type":"text","value":" * "}]},{"type":"element","tag":"span","props":{"class":"ct-b5a920"},"children":[{"type":"text","value":"@type"}]},{"type":"element","tag":"span","props":{"class":"ct-c00c52"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cb6bd8"},"children":[{"type":"text","value":"{import(\"@svarta/cli\").Config}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c00c52"},"children":[{"type":"text","value":" */"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5a920"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4d86ba"},"children":[{"type":"text","value":"config"}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5a920"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"  packageManager: "}]},{"type":"element","tag":"span","props":{"class":"ct-4e4a36"},"children":[{"type":"text","value":"\"npm\""}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"  routeFolder: "}]},{"type":"element","tag":"span","props":{"class":"ct-4e4a36"},"children":[{"type":"text","value":"\"routes\""}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"  minify: "}]},{"type":"element","tag":"span","props":{"class":"ct-4d86ba"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"  adapter: "}]},{"type":"element","tag":"span","props":{"class":"ct-c38560"},"children":[{"type":"text","value":"standaloneAdapter"}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"    defaultPort: "}]},{"type":"element","tag":"span","props":{"class":"ct-4d86ba"},"children":[{"type":"text","value":"7777"}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"    provider: "}]},{"type":"element","tag":"span","props":{"class":"ct-4e4a36"},"children":[{"type":"text","value":"\"tinyhttp\""}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"    outputFile: "}]},{"type":"element","tag":"span","props":{"class":"ct-4e4a36"},"children":[{"type":"text","value":"\".output/server.mjs\""}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"    logger: {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"      enabled: "}]},{"type":"element","tag":"span","props":{"class":"ct-4d86ba"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"    },"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c00c52"},"children":[{"type":"text","value":"// TODO: public serving"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c00c52"},"children":[{"type":"text","value":"// TODO: deploy"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"  }),"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"};"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-b5a920"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-cb6bd8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b5a920"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-cb6bd8"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"config;"}]}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the example above, just run "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node .output/server.mjs"}]},{"type":"text","value":" to run the server."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Check out the full standalone starter template "},{"type":"element","tag":"a","props":{"href":"https://github.com/svartajs/svarta/tree/main/templates/starter-http","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]}]}]},{"type":"element","tag":"h2","props":{"id":"configuration-reference"},"children":[{"type":"text","value":"Configuration reference"}]},{"type":"element","tag":"h3","props":{"id":"defaultport"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defaultPort"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default port to bind to. The HTTP port can be dynamically adjusted using the environment variables "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SVARTA_PORT"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"PORT"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"provider"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provider"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"tinyhttp\""}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The server backend library. Currently, only "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"tinyhttp"}]},{"type":"text","value":" is supported."}]},{"type":"element","tag":"h3","props":{"id":"outputfile"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"outputFile"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The output file to which your server will be bundled & output to."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the file ends with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".js"}]},{"type":"text","value":", it will be converted as CommonJS server, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".mjs"}]},{"type":"text","value":" emits an ESM server instead, which is recommended."}]},{"type":"element","tag":"h3","props":{"id":"logger"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{ enabled: true }"}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"logger.enabled"}]},{"type":"text","value":" is true, a simple HTTP logger is installed before your routes."}]},{"type":"element","tag":"hr","props":{},"children":[]},{"type":"element","tag":"h2","props":{"id":"manual-install"},"children":[{"type":"text","value":"Manual install"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"pnpm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"pnpm i -D @svarta/adapter-standalone @tinyhttp/app milliparsec"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"yarn add -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"yarn","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"yarn add -D @svarta/adapter-standalone @tinyhttp/app milliparsec"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"npx i -D @svarta/adapter-standalone @tinyhttp/app milliparsec\n","filename":"npm","language":"bash"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e595b3"},"children":[{"type":"text","value":"npx i -D @svarta/adapter-standalone @tinyhttp/app milliparsec"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-c38560{color:#8250DF}\n.ct-4d86ba{color:#0550AE}\n.ct-cb6bd8{color:#953800}\n.ct-c00c52{color:#6E7781}\n.ct-4e4a36{color:#0A3069}\n.ct-e595b3{color:#24292F}\n.ct-b5a920{color:#CF222E}\n.dark .ct-b5a920{color:#FF7B72}\n.dark .ct-e595b3{color:#C9D1D9}\n.dark .ct-4e4a36{color:#A5D6FF}\n.dark .ct-c00c52{color:#8B949E}\n.dark .ct-cb6bd8{color:#FFA657}\n.dark .ct-4d86ba{color:#79C0FF}\n.dark .ct-c38560{color:#D2A8FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"configuration-reference","depth":2,"text":"Configuration reference","children":[{"id":"defaultport","depth":3,"text":"defaultPort"},{"id":"provider","depth":3,"text":"provider"},{"id":"outputfile","depth":3,"text":"outputFile"},{"id":"logger","depth":3,"text":"logger"}]},{"id":"manual-install","depth":2,"text":"Manual install"}]}},"_type":"markdown","_id":"content:3.deployment:1.standalone.md","_source":"content","_file":"3.deployment/1.standalone.md","_extension":"md"}