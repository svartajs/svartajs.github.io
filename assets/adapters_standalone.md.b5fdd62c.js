import{_ as s,o as a,c as n,V as l}from"./chunks/framework.d3b95951.js";const h=JSON.parse('{"title":"Standalone","description":"","frontmatter":{},"headers":[],"relativePath":"adapters/standalone.md","filePath":"adapters/standalone.md"}'),e={name:"adapters/standalone.md"},o=l(`<h1 id="standalone" tabindex="-1">Standalone <a class="header-anchor" href="#standalone" aria-label="Permalink to &quot;Standalone&quot;">​</a></h1><ul><li>Package: <code>@svarta/adapter-standalone</code></li></ul><p>This is the default deployment target. It is powered by <a href="https://hono.dev/" target="_blank" rel="noreferrer">hono</a>, weighing in at only about 35 kB. Your routes will be bundled and minified into a single file using <a href="https://esbuild.github.io/" target="_blank" rel="noreferrer">esbuild</a>.</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-uDcco" id="tab-gsaYWFF" checked="checked"><label for="tab-gsaYWFF">svarta.config.mjs</label></div><div class="blocks"><div class="language-js vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> standaloneAdapter </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@svarta/adapter-standalone&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#F97583;">@type</span><span style="color:#6A737D;"> </span><span style="color:#B392F0;">{import(&quot;@svarta/cli&quot;).Config}</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">config</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  packageManager: </span><span style="color:#9ECBFF;">&quot;pnpm&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  routeFolder: </span><span style="color:#9ECBFF;">&quot;routes&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  minify: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  adapter: </span><span style="color:#B392F0;">standaloneAdapter</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    defaultPort: </span><span style="color:#79B8FF;">7777</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    outputFile: </span><span style="color:#9ECBFF;">&quot;.output/server.mjs&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    logger: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      enabled: </span><span style="color:#79B8FF;">true</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// TODO: public serving</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#6A737D;">// TODO: deploy</span></span>
<span class="line"><span style="color:#E1E4E8;">  }),</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> config;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> standaloneAdapter </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@svarta/adapter-standalone&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">/**</span></span>
<span class="line"><span style="color:#6A737D;"> * </span><span style="color:#D73A49;">@type</span><span style="color:#6A737D;"> </span><span style="color:#6F42C1;">{import(&quot;@svarta/cli&quot;).Config}</span></span>
<span class="line"><span style="color:#6A737D;"> */</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">config</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  packageManager: </span><span style="color:#032F62;">&quot;pnpm&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  routeFolder: </span><span style="color:#032F62;">&quot;routes&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  minify: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  adapter: </span><span style="color:#6F42C1;">standaloneAdapter</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    defaultPort: </span><span style="color:#005CC5;">7777</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    outputFile: </span><span style="color:#032F62;">&quot;.output/server.mjs&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    logger: {</span></span>
<span class="line"><span style="color:#24292E;">      enabled: </span><span style="color:#005CC5;">true</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// TODO: public serving</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6A737D;">// TODO: deploy</span></span>
<span class="line"><span style="color:#24292E;">  }),</span></span>
<span class="line"><span style="color:#24292E;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> config;</span></span></code></pre></div></div></div><p>Using the example above, just run <code>node .output/server.mjs</code> to run the server.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Check out the full standalone starter template <a href="https://github.com/svartajs/svarta/tree/main/templates/starter-http" target="_blank" rel="noreferrer">here</a></p></div><h2 id="configuration-reference" tabindex="-1">Configuration reference <a class="header-anchor" href="#configuration-reference" aria-label="Permalink to &quot;Configuration reference&quot;">​</a></h2><h3 id="defaultport" tabindex="-1"><code>defaultPort</code> <a class="header-anchor" href="#defaultport" aria-label="Permalink to &quot;\`defaultPort\`&quot;">​</a></h3><p>The default port to bind to. The HTTP port can be dynamically adjusted using the environment variables <code>SVARTA_PORT</code> or <code>PORT</code>.</p><h3 id="runtime" tabindex="-1"><code>runtime</code> <a class="header-anchor" href="#runtime" aria-label="Permalink to &quot;\`runtime\`&quot;">​</a></h3><ul><li>Default: <code>&quot;node&quot;</code></li></ul><p>The server runtime. Currently, only <code>node</code> is supported.</p><h3 id="outputfile" tabindex="-1"><code>outputFile</code> <a class="header-anchor" href="#outputfile" aria-label="Permalink to &quot;\`outputFile\`&quot;">​</a></h3><p>The output file to which your server will be bundled &amp; output to.</p><p>If the file ends with <code>.js</code>, it will be converted as CommonJS server, <code>.mjs</code> emits an ESM server instead, which is recommended.</p><h3 id="logger" tabindex="-1"><code>logger</code> <a class="header-anchor" href="#logger" aria-label="Permalink to &quot;\`logger\`&quot;">​</a></h3><ul><li>Default: <code>{ enabled: true }</code></li></ul><p>If <code>logger.enabled</code> is true, a simple HTTP logger is installed before your routes.</p><hr><h2 id="manual-install" tabindex="-1">Manual install <a class="header-anchor" href="#manual-install" aria-label="Permalink to &quot;Manual install&quot;">​</a></h2><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-RiHXn" id="tab-45MqGC2" checked="checked"><label for="tab-45MqGC2">pnpm</label><input type="radio" name="group-RiHXn" id="tab-yUcHDbI"><label for="tab-yUcHDbI">yarn</label><input type="radio" name="group-RiHXn" id="tab-HaCuT7D"><label for="tab-HaCuT7D">npm</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">pnpm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-D</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@svarta/adapter-standalone</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hono</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">pnpm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-D</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@svarta/adapter-standalone</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hono</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-D</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@svarta/adapter-standalone</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hono</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-D</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@svarta/adapter-standalone</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hono</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-D</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@svarta/adapter-standalone</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">hono</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-D</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@svarta/adapter-standalone</span><span style="color:#24292E;"> </span><span style="color:#032F62;">hono</span></span></code></pre></div></div></div>`,21),p=[o];function t(r,c,i,d,y,E){return a(),n("div",null,p)}const b=s(e,[["render",t]]);export{h as __pageData,b as default};
